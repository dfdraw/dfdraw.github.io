/*
 TweenJS
 Visit http://createjs.com/ for documentation, updates and examples.

 Copyright (c) 2010 gskinner.com, inc.

 Permission is hereby granted, free of charge, to any person
 obtaining a copy of this software and associated documentation
 files (the "Software"), to deal in the Software without
 restriction, including without limitation the rights to use,
 copy, modify, merge, publish, distribute, sublicense, and/or sell
 copies of the Software, and to permit persons to whom the
 Software is furnished to do so, subject to the following
 conditions:

 The above copyright notice and this permission notice shall be
 included in all copies or substantial portions of the Software.

 THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES
 OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT
 HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY,
 WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
 FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR
 OTHER DEALINGS IN THE SOFTWARE.
 Platform.js <https://mths.be/platform>
 Copyright 2014-2018 Benjamin Tan <https://bnjmnt4n.now.sh/>
 Copyright 2011-2013 John-David Dalton
 Available under MIT license <https://mths.be/mit>
*/
this.createjs=this.createjs||{};createjs.extend=function(a,e){function b(){this.constructor=a}b.prototype=e.prototype;return a.prototype=new b};this.createjs=this.createjs||{};createjs.promote=function(a,e){var b=a.prototype,d=Object.getPrototypeOf&&Object.getPrototypeOf(b)||b.__proto__;if(d){b[(e+="_")+"constructor"]=d.constructor;for(var c in d)b.hasOwnProperty(c)&&"function"==typeof d[c]&&(b[e+c]=d[c])}return a};this.createjs=this.createjs||{};
createjs.deprecate=function(a,e){return function(){var b="Deprecated property or method '"+e+"'. See docs for info.";console&&(console.warn?console.warn(b):console.log(b));return a&&a.apply(this,arguments)}};this.createjs=this.createjs||{};
(function(){function a(b,d,c){this.type=b;this.currentTarget=this.target=null;this.eventPhase=0;this.bubbles=!!d;this.cancelable=!!c;this.timeStamp=(new Date).getTime();this.removed=this.immediatePropagationStopped=this.propagationStopped=this.defaultPrevented=!1}var e=a.prototype;e.preventDefault=function(){this.defaultPrevented=this.cancelable&&!0};e.stopPropagation=function(){this.propagationStopped=!0};e.stopImmediatePropagation=function(){this.immediatePropagationStopped=this.propagationStopped=
!0};e.remove=function(){this.removed=!0};e.clone=function(){return new a(this.type,this.bubbles,this.cancelable)};e.set=function(b){for(var d in b)this[d]=b[d];return this};e.toString=function(){return"[Event (type="+this.type+")]"};createjs.Event=a})();this.createjs=this.createjs||{};
(function(){function a(){this._captureListeners=this._listeners=null}var e=a.prototype;a.initialize=function(b){b.addEventListener=e.addEventListener;b.on=e.on;b.removeEventListener=b.off=e.removeEventListener;b.removeAllEventListeners=e.removeAllEventListeners;b.hasEventListener=e.hasEventListener;b.dispatchEvent=e.dispatchEvent;b._dispatchEvent=e._dispatchEvent;b.willTrigger=e.willTrigger};e.addEventListener=function(b,d,c){var f=c?this._captureListeners=this._captureListeners||{}:this._listeners=
this._listeners||{};var g=f[b];g&&this.removeEventListener(b,d,c);(g=f[b])?g.push(d):f[b]=[d];return d};e.on=function(b,d,c,f,g,h){d.handleEvent&&(c=c||d,d=d.handleEvent);c=c||this;return this.addEventListener(b,function(k){d.call(c,k,g);f&&k.remove()},h)};e.removeEventListener=function(b,d,c){if(c=c?this._captureListeners:this._listeners){var f=c[b];if(f)for(var g=0,h=f.length;g<h;g++)if(f[g]==d){1==h?delete c[b]:f.splice(g,1);break}}};e.off=e.removeEventListener;e.removeAllEventListeners=function(b){b?
(this._listeners&&delete this._listeners[b],this._captureListeners&&delete this._captureListeners[b]):this._listeners=this._captureListeners=null};e.dispatchEvent=function(b,d,c){if("string"==typeof b){var f=this._listeners;if(!(d||f&&f[b]))return!0;b=new createjs.Event(b,d,c)}else b.target&&b.clone&&(b=b.clone());try{b.target=this}catch(g){}if(b.bubbles&&this.parent){c=this;for(d=[c];c.parent;)d.push(c=c.parent);f=d.length;for(c=f-1;0<=c&&!b.propagationStopped;c--)d[c]._dispatchEvent(b,1+(0==c));
for(c=1;c<f&&!b.propagationStopped;c++)d[c]._dispatchEvent(b,3)}else this._dispatchEvent(b,2);return!b.defaultPrevented};e.hasEventListener=function(b){var d=this._listeners,c=this._captureListeners;return!!(d&&d[b]||c&&c[b])};e.willTrigger=function(b){for(var d=this;d;){if(d.hasEventListener(b))return!0;d=d.parent}return!1};e.toString=function(){return"[EventDispatcher]"};e._dispatchEvent=function(b,d){var c,f,g=2>=d?this._captureListeners:this._listeners;if(b&&g&&(f=g[b.type])&&(c=f.length)){try{b.currentTarget=
this}catch(k){}try{b.eventPhase=d|0}catch(k){}b.removed=!1;f=f.slice();for(g=0;g<c&&!b.immediatePropagationStopped;g++){var h=f[g];h.handleEvent?h.handleEvent(b):h(b);b.removed&&(this.off(b.type,h,1==d),b.removed=!1)}}2===d&&this._dispatchEvent(b,2.1)};createjs.EventDispatcher=a})();this.createjs=this.createjs||{};
(function(){function a(){throw"Ticker cannot be instantiated.";}a.RAF_SYNCHED="synched";a.RAF="raf";a.TIMEOUT="timeout";a.timingMode=null;a.maxDelta=0;a.paused=!1;a.removeEventListener=null;a.removeAllEventListeners=null;a.dispatchEvent=null;a.hasEventListener=null;a._listeners=null;createjs.EventDispatcher.initialize(a);a._addEventListener=a.addEventListener;a.addEventListener=function(){!a._inited&&a.init();return a._addEventListener.apply(a,arguments)};a._inited=!1;a._startTime=0;a._pausedTime=
0;a._ticks=0;a._pausedTicks=0;a._interval=50;a._lastTime=0;a._times=null;a._tickTimes=null;a._timerId=null;a._raf=!0;a._setInterval=function(d){a._interval=d;a._inited&&a._setupTick()};a.setInterval=createjs.deprecate(a._setInterval,"Ticker.setInterval");a._getInterval=function(){return a._interval};a.getInterval=createjs.deprecate(a._getInterval,"Ticker.getInterval");a._setFPS=function(d){a._setInterval(1E3/d)};a.setFPS=createjs.deprecate(a._setFPS,"Ticker.setFPS");a._getFPS=function(){return 1E3/
a._interval};a.getFPS=createjs.deprecate(a._getFPS,"Ticker.getFPS");try{Object.defineProperties(a,{interval:{get:a._getInterval,set:a._setInterval},framerate:{get:a._getFPS,set:a._setFPS}})}catch(d){console.log(d)}a.init=function(){a._inited||(a._inited=!0,a._times=[],a._tickTimes=[],a._startTime=a._getTime(),a._times.push(a._lastTime=0),a.interval=a._interval)};a.reset=function(){if(a._raf){var d=window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||window.oCancelAnimationFrame||
window.msCancelAnimationFrame;d&&d(a._timerId)}else clearTimeout(a._timerId);a.removeAllEventListeners("tick");a._timerId=a._times=a._tickTimes=null;a._startTime=a._lastTime=a._ticks=a._pausedTime=0;a._inited=!1};a.getMeasuredTickTime=function(d){var c=0,f=a._tickTimes;if(!f||1>f.length)return-1;d=Math.min(f.length,d||a._getFPS()|0);for(var g=0;g<d;g++)c+=f[g];return c/d};a.getMeasuredFPS=function(d){var c=a._times;if(!c||2>c.length)return-1;d=Math.min(c.length-1,d||a._getFPS()|0);return 1E3/((c[0]-
c[d])/d)};a.getTime=function(d){return a._startTime?a._getTime()-(d?a._pausedTime:0):-1};a.getEventTime=function(d){return a._startTime?(a._lastTime||a._startTime)-(d?a._pausedTime:0):-1};a.getTicks=function(d){return a._ticks-(d?a._pausedTicks:0)};a._handleSynch=function(){a._timerId=null;a._setupTick();a._getTime()-a._lastTime>=.97*(a._interval-1)&&a._tick()};a._handleRAF=function(){a._timerId=null;a._setupTick();a._tick()};a._handleTimeout=function(){a._timerId=null;a._setupTick();a._tick()};a._setupTick=
function(){if(null==a._timerId){var d=a.timingMode;if(d==a.RAF_SYNCHED||d==a.RAF){var c=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame;if(c){a._timerId=c(d==a.RAF?a._handleRAF:a._handleSynch);a._raf=!0;return}}a._raf=!1;a._timerId=setTimeout(a._handleTimeout,a._interval)}};a._tick=function(){var d=a.paused,c=a._getTime(),f=c-a._lastTime;a._lastTime=c;a._ticks++;d&&(a._pausedTicks++,a._pausedTime+=
f);if(a.hasEventListener("tick")){var g=new createjs.Event("tick"),h=a.maxDelta;g.delta=h&&f>h?h:f;g.paused=d;g.time=c;g.runTime=c-a._pausedTime;a.dispatchEvent(g)}for(a._tickTimes.unshift(a._getTime()-c);100<a._tickTimes.length;)a._tickTimes.pop();for(a._times.unshift(c);100<a._times.length;)a._times.pop()};var e=window,b=e.performance.now||e.performance.mozNow||e.performance.msNow||e.performance.oNow||e.performance.webkitNow;a._getTime=function(){return(b&&b.call(e.performance)||(new Date).getTime())-
a._startTime};createjs.Ticker=a})();this.createjs=this.createjs||{};
(function(){function a(b){this.EventDispatcher_constructor();this.ignoreGlobalPause=!1;this.loop=0;this.bounce=this.reversed=this.useTicks=!1;this.timeScale=1;this.position=this.duration=0;this.rawPosition=-1;this._paused=!0;this._labelList=this._labels=this._parent=this._prev=this._next=null;b&&(this.useTicks=!!b.useTicks,this.ignoreGlobalPause=!!b.ignoreGlobalPause,this.loop=!0===b.loop?-1:b.loop||0,this.reversed=!!b.reversed,this.bounce=!!b.bounce,this.timeScale=b.timeScale||1,b.onChange&&this.addEventListener("change",
b.onChange),b.onComplete&&this.addEventListener("complete",b.onComplete))}var e=createjs.extend(a,createjs.EventDispatcher);e._setPaused=function(b){createjs.Tween._register(this,b);return this};e.setPaused=createjs.deprecate(e._setPaused,"AbstractTween.setPaused");e._getPaused=function(){return this._paused};e.getPaused=createjs.deprecate(e._getPaused,"AbstactTween.getPaused");e._getCurrentLabel=function(b){var d=this.getLabels();null==b&&(b=this.position);for(var c=0,f=d.length;c<f&&!(b<d[c].position);c++);
return 0===c?null:d[c-1].label};e.getCurrentLabel=createjs.deprecate(e._getCurrentLabel,"AbstractTween.getCurrentLabel");try{Object.defineProperties(e,{paused:{set:e._setPaused,get:e._getPaused},currentLabel:{get:e._getCurrentLabel}})}catch(b){}e.advance=function(b,d){this.setPosition(this.rawPosition+b*this.timeScale,d)};e.setPosition=function(b,d,c,f){var g=this.duration,h=this.loop,k=this.rawPosition,l=0;0>b&&(b=0);if(0===g){var q=!0;if(-1!==k)return q}else{var m=b/g|0;l=b-m*g;(q=-1!==h&&b>=h*
g+g)&&(b=(l=g)*(m=h)+g);if(b===k)return q;!this.reversed!==!(this.bounce&&m%2)&&(l=g-l)}this.position=l;this.rawPosition=b;this._updatePosition(c,q);q&&(this.paused=!0);f&&f(this);d||this._runActions(k,b,c,!c&&-1===k);this.dispatchEvent("change");q&&this.dispatchEvent("complete")};e.calculatePosition=function(b){var d=this.duration,c=this.loop,f=0;if(0===d)return 0;-1!==c&&b>=c*d+d?(b=d,f=c):0>b?b=0:(f=b/d|0,b-=f*d);return!this.reversed!==!(this.bounce&&f%2)?d-b:b};e.getLabels=function(){var b=this._labelList;
if(!b){b=this._labelList=[];var d=this._labels,c;for(c in d)b.push({label:c,position:d[c]});b.sort(function(f,g){return f.position-g.position})}return b};e.setLabels=function(b){this._labels=b;this._labelList=null};e.addLabel=function(b,d){this._labels||(this._labels={});this._labels[b]=d;var c=this._labelList;if(c){for(var f=0,g=c.length;f<g&&!(d<c[f].position);f++);c.splice(f,0,{label:b,position:d})}};e.gotoAndPlay=function(b){this.paused=!1;this._goto(b)};e.gotoAndStop=function(b){this.paused=
!0;this._goto(b)};e.resolve=function(b){var d=Number(b);isNaN(d)&&(d=this._labels&&this._labels[b]);return d};e.toString=function(){return"[AbstractTween]"};e.clone=function(){throw"AbstractTween can not be cloned.";};e._init=function(b){b&&b.paused||(this.paused=!1);b&&null!=b.position&&this.setPosition(b.position)};e._updatePosition=function(b,d){};e._goto=function(b){b=this.resolve(b);null!=b&&this.setPosition(b,!1,!0)};e._runActions=function(b,d,c,f){if(this._actionHead||this.tweens){var g=this.duration,
h=this.reversed,k=this.bounce,l=this.loop,q,m,t;if(0===g){var v=q=m=t=0;h=k=!1}else v=b/g|0,q=d/g|0,m=b-v*g,t=d-q*g;-1!==l&&(q>l&&(t=g,q=l),v>l&&(m=g,v=l));if(c)return this._runActionsRange(t,t,c,f);if(v!==q||m!==t||c||f){-1===v&&(v=m=0);b=b<=d;d=v;do{l=d===v?m:b?0:g;var u=d===q?t:b?g:0;!h!==!(k&&d%2)&&(l=g-l,u=g-u);if((!k||d===v||l!==u)&&this._runActionsRange(l,u,c,f||d!==v&&!k))return!0;f=!1}while(b&&++d<=q||!b&&--d>=q)}}};e._runActionsRange=function(b,d,c,f){};createjs.AbstractTween=createjs.promote(a,
"EventDispatcher")})();this.createjs=this.createjs||{};
(function(){function a(c,f){this.AbstractTween_constructor(f);this.pluginData=null;this.target=c;this.passive=!1;this._stepTail=this._stepHead=new e(null,0,0,{},null,!0);this._stepPosition=0;this._injected=this._pluginIds=this._plugins=this._actionTail=this._actionHead=null;f&&(this.pluginData=f.pluginData,f.override&&a.removeTweens(c));this.pluginData||(this.pluginData={});this._init(f)}function e(c,f,g,h,k,l){this.next=null;this.prev=c;this.t=f;this.d=g;this.props=h;this.ease=k;this.passive=l;this.index=
c?c.index+1:0}function b(c,f,g,h,k){this.next=null;this.prev=c;this.t=f;this.d=0;this.scope=g;this.funct=h;this.params=k}var d=createjs.extend(a,createjs.AbstractTween);a.IGNORE={};a._tweens=[];a._plugins=null;a._tweenHead=null;a._tweenTail=null;a.get=function(c,f){return new a(c,f)};a.tick=function(c,f){for(var g=a._tweenHead;g;){var h=g._next;f&&!g.ignoreGlobalPause||g._paused||g.advance(g.useTicks?1:c);g=h}};a.handleEvent=function(c){"tick"===c.type&&this.tick(c.delta,c.paused)};a.removeTweens=
function(c){if(c.tweenjs_count){for(var f=a._tweenHead;f;){var g=f._next;f.target===c&&a._register(f,!0);f=g}c.tweenjs_count=0}};a.removeAllTweens=function(){for(var c=a._tweenHead;c;){var f=c._next;c._paused=!0;c.target&&(c.target.tweenjs_count=0);c._next=c._prev=null;c=f}a._tweenHead=a._tweenTail=null};a.hasActiveTweens=function(c){return c?!!c.tweenjs_count:!!a._tweenHead};a._installPlugin=function(c){for(var f=c.priority=c.priority||0,g=a._plugins=a._plugins||[],h=0,k=g.length;h<k&&!(f<g[h].priority);h++);
g.splice(h,0,c)};a._register=function(c,f){var g=c.target;if(!f&&c._paused)g&&(g.tweenjs_count=g.tweenjs_count?g.tweenjs_count+1:1),(g=a._tweenTail)?(a._tweenTail=g._next=c,c._prev=g):a._tweenHead=a._tweenTail=c,!a._inited&&createjs.Ticker&&(createjs.Ticker.addEventListener("tick",a),a._inited=!0);else if(f&&!c._paused){g&&g.tweenjs_count--;g=c._next;var h=c._prev;g?g._prev=h:a._tweenTail=h;h?h._next=g:a._tweenHead=g;c._next=c._prev=null}c._paused=f};d.wait=function(c,f){0<c&&this._addStep(+c,this._stepTail.props,
null,f);return this};d.to=function(c,f,g){if(null==f||0>f)f=0;f=this._addStep(+f,null,g);this._appendProps(c,f);return this};d.label=function(c){this.addLabel(c,this.duration);return this};d.call=function(c,f,g){return this._addAction(g||this.target,c,f||[this])};d.set=function(c,f){return this._addAction(f||this.target,this._set,[c])};d.play=function(c){return this._addAction(c||this,this._set,[{paused:!1}])};d.pause=function(c){return this._addAction(c||this,this._set,[{paused:!0}])};d.w=d.wait;
d.t=d.to;d.c=d.call;d.s=d.set;d.toString=function(){return"[Tween]"};d.clone=function(){throw"Tween can not be cloned.";};d._addPlugin=function(c){var f=this._pluginIds||(this._pluginIds={}),g=c.ID;if(g&&!f[g]){f[g]=!0;f=this._plugins||(this._plugins=[]);g=c.priority||0;for(var h=0,k=f.length;h<k;h++)if(g<f[h].priority){f.splice(h,0,c);return}f.push(c)}};d._updatePosition=function(c,f){var g=this._stepHead.next,h=this.position,k=this.duration;if(this.target&&g){for(var l=g.next;l&&l.t<=h;)g=g.next,
l=g.next;this._updateTargetProps(g,f?0===k?1:h/k:(h-g.t)/g.d,f)}this._stepPosition=g?h-g.t:0};d._updateTargetProps=function(c,f,g){if(!(this.passive=!!c.passive)){var h,k=c.prev.props,l=c.props;if(h=c.ease)f=h(f,0,1,1);h=this._plugins;var q;a:for(q in k){var m=k[q];var t=l[q];m=m!==t&&"number"===typeof m?m+(t-m)*f:1<=f?t:m;if(h){t=0;for(var v=h.length;t<v;t++){var u=h[t].change(this,c,q,m,f,g);if(u===a.IGNORE)continue a;void 0!==u&&(m=u)}}this.target[q]=m}}};d._runActionsRange=function(c,f,g,h){var k=
(g=c>f)?this._actionTail:this._actionHead,l=f,q=c;g&&(l=c,q=f);for(var m=this.position;k;){var t=k.t;if(t===f||t>q&&t<l||h&&t===c)if(k.funct.apply(k.scope,k.params),m!==this.position)return!0;k=g?k.prev:k.next}};d._appendProps=function(c,f,g){var h=this._stepHead.props,k=this.target,l=a._plugins,q,m,t=f.prev,v=t.props,u=f.props||(f.props=this._cloneProps(v)),w={};for(q in c)if(c.hasOwnProperty(q)&&(w[q]=u[q]=c[q],void 0===h[q])){var y=void 0;if(l)for(m=l.length-1;0<=m;m--){var B=l[m].init(this,q,
y);void 0!==B&&(y=B);if(y===a.IGNORE){delete u[q];delete w[q];break}}y!==a.IGNORE&&(void 0===y&&(y=k[q]),v[q]=void 0===y?null:y)}for(q in w){var p;for(c=t;(p=c)&&(c=p.prev);)if(c.props!==p.props){if(void 0!==c.props[q])break;c.props[q]=v[q]}}if(!1!==g&&(l=this._plugins))for(m=l.length-1;0<=m;m--)l[m].step(this,f,w);if(g=this._injected)this._injected=null,this._appendProps(g,f,!1)};d._injectProp=function(c,f){(this._injected||(this._injected={}))[c]=f};d._addStep=function(c,f,g,h){f=new e(this._stepTail,
this.duration,c,f,g,h||!1);this.duration+=c;return this._stepTail=this._stepTail.next=f};d._addAction=function(c,f,g){c=new b(this._actionTail,this.duration,c,f,g);this._actionTail?this._actionTail.next=c:this._actionHead=c;this._actionTail=c;return this};d._set=function(c){for(var f in c)this[f]=c[f]};d._cloneProps=function(c){var f={},g;for(g in c)f[g]=c[g];return f};createjs.Tween=createjs.promote(a,"AbstractTween")})();this.createjs=this.createjs||{};
(function(){function a(b){if(b instanceof Array||null==b&&1<arguments.length){var d=b;var c=arguments[1];b=arguments[2]}else b&&(d=b.tweens,c=b.labels);this.AbstractTween_constructor(b);this.tweens=[];d&&this.addTween.apply(this,d);this.setLabels(c);this._init(b)}var e=createjs.extend(a,createjs.AbstractTween);e.addTween=function(b){b._parent&&b._parent.removeTween(b);var d=arguments.length;if(1<d){for(var c=0;c<d;c++)this.addTween(arguments[c]);return arguments[d-1]}if(0===d)return null;this.tweens.push(b);
b._parent=this;b.paused=!0;d=b.duration;0<b.loop&&(d*=b.loop+1);d>this.duration&&(this.duration=d);0<=this.rawPosition&&b.setPosition(this.rawPosition);return b};e.removeTween=function(b){var d=arguments.length;if(1<d){for(var c=!0,f=0;f<d;f++)c=c&&this.removeTween(arguments[f]);return c}if(0===d)return!0;d=this.tweens;for(f=d.length;f--;)if(d[f]===b)return d.splice(f,1),b._parent=null,b.duration>=this.duration&&this.updateDuration(),!0;return!1};e.updateDuration=function(){for(var b=this.duration=
0,d=this.tweens.length;b<d;b++){var c=this.tweens[b],f=c.duration;0<c.loop&&(f*=c.loop+1);f>this.duration&&(this.duration=f)}};e.toString=function(){return"[Timeline]"};e.clone=function(){throw"Timeline can not be cloned.";};e._updatePosition=function(b,d){for(var c=this.position,f=0,g=this.tweens.length;f<g;f++)this.tweens[f].setPosition(c,!0,b)};e._runActionsRange=function(b,d,c,f){for(var g=this.position,h=0,k=this.tweens.length;h<k;h++)if(this.tweens[h]._runActions(b,d,c,f),g!==this.position)return!0};
createjs.Timeline=createjs.promote(a,"AbstractTween")})();this.createjs=this.createjs||{};
(function(){function a(){throw"Ease cannot be instantiated.";}a.linear=function(e){return e};a.none=a.linear;a.get=function(e){-1>e?e=-1:1<e&&(e=1);return function(b){return 0==e?b:0>e?b*(b*-e+1+e):b*((2-b)*e+(1-e))}};a.getPowIn=function(e){return function(b){return Math.pow(b,e)}};a.getPowOut=function(e){return function(b){return 1-Math.pow(1-b,e)}};a.getPowInOut=function(e){return function(b){return 1>(b*=2)?.5*Math.pow(b,e):1-.5*Math.abs(Math.pow(2-b,e))}};a.quadIn=a.getPowIn(2);a.quadOut=a.getPowOut(2);
a.quadInOut=a.getPowInOut(2);a.cubicIn=a.getPowIn(3);a.cubicOut=a.getPowOut(3);a.cubicInOut=a.getPowInOut(3);a.quartIn=a.getPowIn(4);a.quartOut=a.getPowOut(4);a.quartInOut=a.getPowInOut(4);a.quintIn=a.getPowIn(5);a.quintOut=a.getPowOut(5);a.quintInOut=a.getPowInOut(5);a.sineIn=function(e){return 1-Math.cos(e*Math.PI/2)};a.sineOut=function(e){return Math.sin(e*Math.PI/2)};a.sineInOut=function(e){return-.5*(Math.cos(Math.PI*e)-1)};a.getBackIn=function(e){return function(b){return b*b*((e+1)*b-e)}};
a.backIn=a.getBackIn(1.7);a.getBackOut=function(e){return function(b){return--b*b*((e+1)*b+e)+1}};a.backOut=a.getBackOut(1.7);a.getBackInOut=function(e){e*=1.525;return function(b){return 1>(b*=2)?.5*b*b*((e+1)*b-e):.5*((b-=2)*b*((e+1)*b+e)+2)}};a.backInOut=a.getBackInOut(1.7);a.circIn=function(e){return-(Math.sqrt(1-e*e)-1)};a.circOut=function(e){return Math.sqrt(1- --e*e)};a.circInOut=function(e){return 1>(e*=2)?-.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1)};a.bounceIn=function(e){return 1-
a.bounceOut(1-e)};a.bounceOut=function(e){return e<1/2.75?7.5625*e*e:e<2/2.75?7.5625*(e-=1.5/2.75)*e+.75:e<2.5/2.75?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375};a.bounceInOut=function(e){return.5>e?.5*a.bounceIn(2*e):.5*a.bounceOut(2*e-1)+.5};a.getElasticIn=function(e,b){var d=2*Math.PI;return function(c){if(0==c||1==c)return c;var f=b/d*Math.asin(1/e);return-(e*Math.pow(2,10*--c)*Math.sin((c-f)*d/b))}};a.elasticIn=a.getElasticIn(1,.3);a.getElasticOut=function(e,b){var d=2*Math.PI;
return function(c){return 0==c||1==c?c:e*Math.pow(2,-10*c)*Math.sin((c-b/d*Math.asin(1/e))*d/b)+1}};a.elasticOut=a.getElasticOut(1,.3);a.getElasticInOut=function(e,b){var d=2*Math.PI;return function(c){var f=b/d*Math.asin(1/e);return 1>(c*=2)?-.5*e*Math.pow(2,10*--c)*Math.sin((c-f)*d/b):e*Math.pow(2,-10*--c)*Math.sin((c-f)*d/b)*.5+1}};a.elasticInOut=a.getElasticInOut(1,.3*1.5);createjs.Ease=a})();this.createjs=this.createjs||{};
(function(){function a(){throw"MotionGuidePlugin cannot be instantiated.";}a.priority=0;a.ID="MotionGuide";a.install=function(){createjs.Tween._installPlugin(a);return createjs.Tween.IGNORE};a.init=function(e,b,d){"guide"==b&&e._addPlugin(a)};a.step=function(e,b,d){for(var c in d)if("guide"===c){var f=b.props.guide,g=a._solveGuideData(d.guide,f);f.valid=!g;var h=f.endData;e._injectProp("x",h.x);e._injectProp("y",h.y);if(g||!f.orient)break;f.startOffsetRot=(void 0===b.prev.props.rotation?e.target.rotation||
0:b.prev.props.rotation)-f.startData.rotation;if("fixed"==f.orient)f.endAbsRot=h.rotation+f.startOffsetRot,f.deltaRotation=0;else{g=void 0===d.rotation?e.target.rotation||0:d.rotation;h=g-f.endData.rotation-f.startOffsetRot;var k=h%360;f.endAbsRot=g;switch(f.orient){case "auto":f.deltaRotation=h;break;case "cw":f.deltaRotation=(k+360)%360+360*Math.abs(h/360|0);break;case "ccw":f.deltaRotation=(k-360)%360+-360*Math.abs(h/360|0)}}e._injectProp("rotation",f.endAbsRot)}};a.change=function(e,b,d,c,f,g){if((c=
b.props.guide)&&b.props!==b.prev.props&&c!==b.prev.props.guide){if("guide"===d&&!c.valid||"x"==d||"y"==d||"rotation"===d&&c.orient)return createjs.Tween.IGNORE;a._ratioToPositionData(f,c,e.target)}};a.debug=function(e,b,d){e=e.guide||e;var c=a._findPathProblems(e);c&&console.error("MotionGuidePlugin Error found: \n"+c);if(!b)return c;var f,g=e.path,h=g.length;b.save();b.lineCap="round";b.lineJoin="miter";b.beginPath();b.moveTo(g[0],g[1]);for(f=2;f<h;f+=4)b.quadraticCurveTo(g[f],g[f+1],g[f+2],g[f+
3]);b.strokeStyle="black";b.lineWidth=4.5;b.stroke();b.strokeStyle="white";b.lineWidth=3;b.stroke();b.closePath();g=d.length;if(d&&g){h={};var k={};a._solveGuideData(e,h);for(f=0;f<g;f++)h.orient="fixed",a._ratioToPositionData(d[f],h,k),b.beginPath(),b.moveTo(k.x,k.y),b.lineTo(k.x+9*Math.cos(.0174533*k.rotation),k.y+9*Math.sin(.0174533*k.rotation)),b.strokeStyle="black",b.lineWidth=4.5,b.stroke(),b.strokeStyle="red",b.lineWidth=3,b.stroke(),b.closePath()}b.restore();return c};a._solveGuideData=function(e,
b){var d;if(d=a.debug(e))return d;var c=b.path=e.path;b.orient=e.orient;b.subLines=[];b.totalLength=0;b.startOffsetRot=0;b.deltaRotation=0;b.startData={ratio:0};b.endData={ratio:1};b.animSpan=1;var f=c.length,g,h={};var k=c[0];var l=c[1];for(d=2;d<f;d+=4){var q=c[d];var m=c[d+1];var t=c[d+2];var v=c[d+3];var u={weightings:[],estLength:0,portion:0},w=k;var y=l;for(g=1;10>=g;g++)a._getParamsForCurve(k,l,q,m,t,v,g/10,!1,h),w=h.x-w,y=h.y-y,y=Math.sqrt(w*w+y*y),u.weightings.push(y),u.estLength+=y,w=h.x,
y=h.y;b.totalLength+=u.estLength;for(g=0;10>g;g++)y=u.estLength,u.weightings[g]/=y;b.subLines.push(u);k=t;l=v}y=b.totalLength;c=b.subLines.length;for(d=0;d<c;d++)b.subLines[d].portion=b.subLines[d].estLength/y;d=isNaN(e.start)?0:e.start;c=isNaN(e.end)?1:e.end;a._ratioToPositionData(d,b,b.startData);a._ratioToPositionData(c,b,b.endData);b.startData.ratio=d;b.endData.ratio=c;b.animSpan=b.endData.ratio-b.startData.ratio};a._ratioToPositionData=function(e,b,d){var c=b.subLines,f,g=0,h=e*b.animSpan+b.startData.ratio;
var k=c.length;for(f=0;f<k;f++){var l=c[f].portion;if(g+l>=h){var q=f;break}g+=l}void 0===q&&(q=k-1,g-=l);c=c[q].weightings;var m=l;k=c.length;for(f=0;f<k;f++){l=c[f]*m;if(g+l>=h)break;g+=l}q=4*q+2;k=b.path;a._getParamsForCurve(k[q-2],k[q-1],k[q],k[q+1],k[q+2],k[q+3],f/10+(h-g)/l*.1,b.orient,d);b.orient&&(d.rotation=.99999<=e&&1.00001>=e&&void 0!==b.endAbsRot?b.endAbsRot:d.rotation+(b.startOffsetRot+e*b.deltaRotation));return d};a._getParamsForCurve=function(e,b,d,c,f,g,h,k,l){var q=1-h;l.x=q*q*e+
2*q*h*d+h*h*f;l.y=q*q*b+2*q*h*c+h*h*g;k&&(l.rotation=57.2957795*Math.atan2((c-b)*q+(g-c)*h,(d-e)*q+(f-d)*h))};a._findPathProblems=function(e){var b=e.path,d=b&&b.length||0;if(6>d||(d-2)%4)return"\tCannot parse 'path' array due to invalid number of entries in path. There should be an odd number of points, at least 3 points, and 2 entries per point (x & y). See 'CanvasRenderingContext2D.quadraticCurveTo' for details as 'path' models a quadratic bezier.\n\nOnly [ "+(d+" ] values found. Expected: "+Math.max(4*
Math.ceil((d-2)/4)+2,6));for(var c=0;c<d;c++)if(isNaN(b[c]))return"All data in path array must be numeric";b=e.start;if(isNaN(b)&&void 0!==b)return"'start' out of bounds. Expected 0 to 1, got: "+b;b=e.end;if(isNaN(b)&&void 0!==b)return"'end' out of bounds. Expected 0 to 1, got: "+b;if((e=e.orient)&&"fixed"!=e&&"auto"!=e&&"cw"!=e&&"ccw"!=e)return'Invalid orientation value. Expected ["fixed", "auto", "cw", "ccw", undefined], got: '+e};createjs.MotionGuidePlugin=a})();this.createjs=this.createjs||{};
(function(){var a=createjs.TweenJS=createjs.TweenJS||{};a.version="1.0.0";a.buildDate="Thu, 14 Sep 2017 19:47:47 GMT"})();
(function(){function a(p){p=String(p);return p.charAt(0).toUpperCase()+p.slice(1)}function e(p,D){var G=-1,A=p?p.length:0;if("number"==typeof A&&-1<A&&A<=v)for(;++G<A;)D(p[G],G,p);else d(p,D)}function b(p){p=String(p).replace(/^ +| +$/g,"");return/^(?:webOS|i(?:OS|P))/.test(p)?p:a(p)}function d(p,D){for(var G in p)w.call(p,G)&&D(p[G],G,p)}function c(p){return null==p?a(p):y.call(p).slice(8,-1)}function f(p,D){var G=null!=p?typeof p[D]:"number";return!/^(?:boolean|number|string|undefined)$/.test(G)&&
("object"==G?!!p[D]:!0)}function g(p){return String(p).replace(/([ -])(?!$)/g,"$1?")}function h(p,D){var G=null;e(p,function(A,C){G=D(G,A,C,p)});return G}function k(p){function D(I){return h(I,function(J,L){var O=L.pattern||g(L);!J&&(J=RegExp("\\b"+O+" *\\d+[.\\w_]*","i").exec(p)||RegExp("\\b"+O+" *\\w+-[\\w]*","i").exec(p)||RegExp("\\b"+O+"(?:; *(?:[a-z]+[_-])?[a-z]+\\d+|[^ ();-]*)","i").exec(p))&&((J=String(L.label&&!RegExp(O,"i").test(L.label)?L.label:J).split("/"))[1]&&!/[\d.]+/.test(J[0])&&(J[0]+=
" "+J[1]),L=L.label||L,J=b(J[0].replace(RegExp(O,"i"),L).replace(RegExp("; *(?:"+L+"[_-])?","i")," ").replace(RegExp("("+L+")[-_.]?(\\w)","i"),"$1 $2")));return J})}function G(I){return h(I,function(J,L){return J||(RegExp(L+"(?:-[\\d.]+/|(?: for [\\w-]+)?[ /-])([\\d.]+[^ ();/_-]*)","i").exec(p)||0)[1]||null})}var A=q,C=p&&"object"==typeof p&&"String"!=c(p);C&&(A=p,p=null);var S=A.navigator||{},z=S.userAgent||"";p||(p=z);var X=C?!!S.likeChrome:/\bChrome\b/.test(p)&&!/internal|\n/i.test(y.toString()),
ca=C?"Object":"ScriptBridgingProxyObject",T=C?"Object":"Environment",K=C&&A.java?"JavaPackage":c(A.java),W=C?"Object":"RuntimeObject";T=(K=/\bJava/.test(K)&&A.java)&&c(A.environment)==T;var Y=K?"a":"\u03b1",Q=K?"b":"\u03b2",R=A.document||{},P=A.operamini||A.opera,U=u.test(U=C&&P?P["[[Class]]"]:c(P))?U:P=null,r,aa=p;C=[];var Z=null,N=p==z;z=N&&P&&"function"==typeof P.version&&P.version();var F=function(I){return h(I,function(J,L){return J||RegExp("\\b"+(L.pattern||g(L))+"\\b","i").exec(p)&&(L.label||
L)})}([{label:"EdgeHTML",pattern:"Edge"},"Trident",{label:"WebKit",pattern:"AppleWebKit"},"iCab","Presto","NetFront","Tasman","KHTML","Gecko"]),x=function(I){return h(I,function(J,L){return J||RegExp("\\b"+(L.pattern||g(L))+"\\b","i").exec(p)&&(L.label||L)})}(["Adobe AIR","Arora","Avant Browser","Breach","Camino","Electron","Epiphany","Fennec","Flock","Galeon","GreenBrowser","iCab","Iceweasel","K-Meleon","Konqueror","Lunascape","Maxthon",{label:"Microsoft Edge",pattern:"Edge"},"Midori","Nook Browser",
"PaleMoon","PhantomJS","Raven","Rekonq","RockMelt",{label:"Samsung Internet",pattern:"SamsungBrowser"},"SeaMonkey",{label:"Silk",pattern:"(?:Cloud9|Silk-Accelerated)"},"Sleipnir","SlimBrowser",{label:"SRWare Iron",pattern:"Iron"},"Sunrise","Swiftfox","Waterfox","WebPositive","Opera Mini",{label:"Opera Mini",pattern:"OPiOS"},"Opera",{label:"Opera",pattern:"OPR"},"Chrome",{label:"Chrome Mobile",pattern:"(?:CriOS|CrMo)"},{label:"Firefox",pattern:"(?:Firefox|Minefield)"},{label:"Firefox for iOS",pattern:"FxiOS"},
{label:"IE",pattern:"IEMobile"},{label:"IE",pattern:"MSIE"},"Safari"]),H=D([{label:"BlackBerry",pattern:"BB10"},"BlackBerry",{label:"Galaxy S",pattern:"GT-I9000"},{label:"Galaxy S2",pattern:"GT-I9100"},{label:"Galaxy S3",pattern:"GT-I9300"},{label:"Galaxy S4",pattern:"GT-I9500"},{label:"Galaxy S5",pattern:"SM-G900"},{label:"Galaxy S6",pattern:"SM-G920"},{label:"Galaxy S6 Edge",pattern:"SM-G925"},{label:"Galaxy S7",pattern:"SM-G930"},{label:"Galaxy S7 Edge",pattern:"SM-G935"},"Google TV","Lumia","iPad",
"iPod","iPhone","Kindle",{label:"Kindle Fire",pattern:"(?:Cloud9|Silk-Accelerated)"},"Nexus","Nook","PlayBook","PlayStation Vita","PlayStation","TouchPad","Transformer",{label:"Wii U",pattern:"WiiU"},"Wii","Xbox One",{label:"Xbox 360",pattern:"Xbox"},"Xoom"]),M=function(I){return h(I,function(J,L,O){return J||(L[H]||L[/^[a-z]+(?: +[a-z]+\b)*/i.exec(H)]||RegExp("\\b"+g(O)+"(?:\\b|\\w*\\d)","i").exec(p))&&O})}({Apple:{iPad:1,iPhone:1,iPod:1},Archos:{},Amazon:{Kindle:1,"Kindle Fire":1},Asus:{Transformer:1},
"Barnes & Noble":{Nook:1},BlackBerry:{PlayBook:1},Google:{"Google TV":1,Nexus:1},HP:{TouchPad:1},HTC:{},LG:{},Microsoft:{Xbox:1,"Xbox One":1},Motorola:{Xoom:1},Nintendo:{"Wii U":1,Wii:1},Nokia:{Lumia:1},Samsung:{"Galaxy S":1,"Galaxy S2":1,"Galaxy S3":1,"Galaxy S4":1},Sony:{PlayStation:1,"PlayStation Vita":1}}),n=function(I){return h(I,function(J,L){var O=L.pattern||g(L);if(!J&&(J=RegExp("\\b"+O+"(?:/[\\d.]+|[ \\w.]*)","i").exec(p))){var V=J,da=L.label||L,ba={"10.0":"10","6.4":"10 Technical Preview",
"6.3":"8.1","6.2":"8","6.1":"Server 2008 R2 / 7","6.0":"Server 2008 / Vista","5.2":"Server 2003 / XP 64-bit","5.1":"XP","5.01":"2000 SP1","5.0":"2000","4.0":"NT","4.90":"ME"};O&&da&&/^Win/i.test(V)&&!/^Windows Phone /i.test(V)&&(ba=ba[/[\d.]+$/.exec(V)])&&(V="Windows "+ba);V=String(V);O&&da&&(V=V.replace(RegExp(O,"i"),da));J=V=b(V.replace(/ ce$/i," CE").replace(/\bhpw/i,"web").replace(/\bMacintosh\b/,"Mac OS").replace(/_PowerPC\b/i," OS").replace(/\b(OS X) [^ \d]+/i,"$1").replace(/\bMac (OS X)\b/,
"$1").replace(/\/(\d)/," $1").replace(/_/g,".").replace(/(?: BePC|[ .]*fc[ \d.]+)$/i,"").replace(/\bx86\.64\b/gi,"x86_64").replace(/\b(Windows Phone) OS\b/,"$1").replace(/\b(Chrome OS \w+) [\d.]+\b/,"$1").split(" on ")[0])}return J})}(["Windows Phone","Android","CentOS",{label:"Chrome OS",pattern:"CrOS"},"Debian","Fedora","FreeBSD","Gentoo","Haiku","Kubuntu","Linux Mint","OpenBSD","Red Hat","SuSE","Ubuntu","Xubuntu","Cygwin","Symbian OS","hpwOS","webOS ","webOS","Tablet OS","Tizen","Linux","Mac OS X",
"Macintosh","Mac","Windows 98;","Windows "]);F&&(F=[F]);M&&!H&&(H=D([M]));if(r=/\bGoogle TV\b/.exec(H))H=r[0];/\bSimulator\b/i.test(p)&&(H=(H?H+" ":"")+"Simulator");"Opera Mini"==x&&/\bOPiOS\b/.test(p)&&C.push("running in Turbo/Uncompressed mode");"IE"==x&&/\blike iPhone OS\b/.test(p)?(r=k(p.replace(/like iPhone OS/,"")),M=r.manufacturer,H=r.product):/^iP/.test(H)?(x||(x="Safari"),n="iOS"+((r=/ OS ([\d_]+)/i.exec(p))?" "+r[1].replace(/_/g,"."):"")):"Konqueror"!=x||/buntu/i.test(n)?M&&"Google"!=M&&
(/Chrome/.test(x)&&!/\bMobile Safari\b/i.test(p)||/\bVita\b/.test(H))||/\bAndroid\b/.test(n)&&/^Chrome/.test(x)&&/\bVersion\//i.test(p)?(x="Android Browser",n=/\bAndroid\b/.test(n)?n:"Android"):"Silk"==x?(/\bMobi/i.test(p)||(n="Android",C.unshift("desktop mode")),/Accelerated *= *true/i.test(p)&&C.unshift("accelerated")):"PaleMoon"==x&&(r=/\bFirefox\/([\d.]+)\b/.exec(p))?C.push("identifying as Firefox "+r[1]):"Firefox"==x&&(r=/\b(Mobile|Tablet|TV)\b/i.exec(p))?(n||(n="Firefox OS"),H||(H=r[1])):!x||
(r=!/\bMinefield\b/i.test(p)&&/\b(?:Firefox|Safari)\b/.exec(x))?(x&&!H&&/[\/,]|^[^(]+?\)/.test(p.slice(p.indexOf(r+"/")+8))&&(x=null),(r=H||M||n)&&(H||M||/\b(?:Android|Symbian OS|Tablet OS|webOS)\b/.test(n))&&(x=/[a-z]+(?: Hat)?/i.exec(/\bAndroid\b/.test(n)?n:r)+" Browser")):"Electron"==x&&(r=(/\bChrome\/([\d.]+)\b/.exec(p)||0)[1])&&C.push("Chromium "+r):n="Kubuntu";z||(z=G(["(?:Cloud9|CriOS|CrMo|Edge|FxiOS|IEMobile|Iron|Opera ?Mini|OPiOS|OPR|Raven|SamsungBrowser|Silk(?!/[\\d.]+$))","Version",g(x),
"(?:Firefox|Minefield|NetFront)"]));if(r="iCab"==F&&3<parseFloat(z)&&"WebKit"||/\bOpera\b/.test(x)&&(/\bOPR\b/.test(p)?"Blink":"Presto")||/\b(?:Midori|Nook|Safari)\b/i.test(p)&&!/^(?:Trident|EdgeHTML)$/.test(F)&&"WebKit"||!F&&/\bMSIE\b/i.test(p)&&("Mac OS"==n?"Tasman":"Trident")||"WebKit"==F&&/\bPlayStation\b(?! Vita\b)/i.test(x)&&"NetFront")F=[r];"IE"==x&&(r=(/; *(?:XBLWP|ZuneWP)(\d+)/i.exec(p)||0)[1])?(x+=" Mobile",n="Windows Phone "+(/\+$/.test(r)?r:r+".x"),C.unshift("desktop mode")):/\bWPDesktop\b/i.test(p)?
(x="IE Mobile",n="Windows Phone 8.x",C.unshift("desktop mode"),z||(z=(/\brv:([\d.]+)/.exec(p)||0)[1])):"IE"!=x&&"Trident"==F&&(r=/\brv:([\d.]+)/.exec(p))&&(x&&C.push("identifying as "+x+(z?" "+z:"")),x="IE",z=r[1]);if(N){if(f(A,"global"))if(K&&(r=K.lang.System,aa=r.getProperty("os.arch"),n=n||r.getProperty("os.name")+" "+r.getProperty("os.version")),T){try{z=A.require("ringo/engine").version.join("."),x="RingoJS"}catch(I){(r=A.system)&&r.global.system==A.system&&(x="Narwhal",n||(n=r[0].os||null))}x||
(x="Rhino")}else"object"==typeof A.process&&!A.process.browser&&(r=A.process)&&("object"==typeof r.versions&&("string"==typeof r.versions.electron?(C.push("Node "+r.versions.node),x="Electron",z=r.versions.electron):"string"==typeof r.versions.nw&&(C.push("Chromium "+z,"Node "+r.versions.node),x="NW.js",z=r.versions.nw)),x||(x="Node.js",aa=r.arch,n=r.platform,z=(z=/[\d.]+/.exec(r.version))?z[0]:null));else c(r=A.runtime)==ca?(x="Adobe AIR",n=r.flash.system.Capabilities.os):c(r=A.phantom)==W?(x="PhantomJS",
z=(r=r.version||null)&&r.major+"."+r.minor+"."+r.patch):"number"==typeof R.documentMode&&(r=/\bTrident\/(\d+)/i.exec(p))?(z=[z,R.documentMode],(r=+r[1]+4)!=z[1]&&(C.push("IE "+z[1]+" mode"),F&&(F[1]=""),z[1]=r),z="IE"==x?String(z[1].toFixed(1)):z[0]):"number"==typeof R.documentMode&&/^(?:Chrome|Firefox)\b/.test(x)&&(C.push("masking as "+x+" "+z),x="IE",z="11.0",F=["Trident"],n="Windows");n=n&&b(n)}z&&(r=/(?:[ab]|dp|pre|[ab]\d+pre)(?:\d+\+?)?$/i.exec(z)||/(?:alpha|beta)(?: ?\d)?/i.exec(p+";"+(N&&S.appMinorVersion))||
/\bMinefield\b/i.test(p)&&"a")&&(Z=/b/i.test(r)?"beta":"alpha",z=z.replace(RegExp(r+"\\+?$"),"")+("beta"==Z?Q:Y)+(/\d+\+?/.exec(r)||""));if("Fennec"==x||"Firefox"==x&&/\b(?:Android|Firefox OS)\b/.test(n))x="Firefox Mobile";else if("Maxthon"==x&&z)z=z.replace(/\.[\d.]+/,".x");else if(/\bXbox\b/i.test(H))"Xbox 360"==H&&(n=null),"Xbox 360"==H&&/\bIEMobile\b/.test(p)&&C.unshift("mobile mode");else if(!/^(?:Chrome|IE|Opera)$/.test(x)&&(!x||H||/Browser|Mobi/.test(x))||"Windows CE"!=n&&!/Mobi/i.test(p))if("IE"==
x&&N)try{null===A.external&&C.unshift("platform preview")}catch(I){C.unshift("embedded")}else(/\bBlackBerry\b/.test(H)||/\bBB10\b/.test(p))&&(r=(RegExp(H.replace(/ +/g," *")+"/([.\\d]+)","i").exec(p)||0)[1]||z)?(r=[r,/BB10/.test(p)],n=(r[1]?(H=null,M="BlackBerry"):"Device Software")+" "+r[0],z=null):this!=d&&"Wii"!=H&&(N&&P||/Opera/.test(x)&&/\b(?:MSIE|Firefox)\b/i.test(p)||"Firefox"==x&&/\bOS X (?:\d+\.){2,}/.test(n)||"IE"==x&&(n&&!/^Win/.test(n)&&5.5<z||/\bWindows XP\b/.test(n)&&8<z||8==z&&!/\bTrident\b/.test(p)))&&
!u.test(r=k.call(d,p.replace(u,"")+";"))&&r.name&&(r="ing as "+r.name+((r=r.version)?" "+r:""),u.test(x)?(/\bIE\b/.test(r)&&"Mac OS"==n&&(n=null),r="identify"+r):(r="mask"+r,x=U?b(U.replace(/([a-z])([A-Z])/g,"$1 $2")):"Opera",/\bIE\b/.test(r)&&(n=null),N||(z=null)),F=["Presto"],C.push(r));else x+=" Mobile";if(r=(/\bAppleWebKit\/([\d.]+\+?)/i.exec(p)||0)[1]){r=[parseFloat(r.replace(/\.(\d)$/,".0$1")),r];if("Safari"==x&&"+"==r[1].slice(-1))x="WebKit Nightly",Z="alpha",z=r[1].slice(0,-1);else if(z==
r[1]||z==(r[2]=(/\bSafari\/([\d.]+\+?)/i.exec(p)||0)[1]))z=null;r[1]=(/\bChrome\/([\d.]+)/i.exec(p)||0)[1];537.36==r[0]&&537.36==r[2]&&28<=parseFloat(r[1])&&"WebKit"==F&&(F=["Blink"]);N&&(X||r[1])?(F&&(F[1]="like Chrome"),r=r[1]||(r=r[0],530>r?1:532>r?2:532.05>r?3:533>r?4:534.03>r?5:534.07>r?6:534.1>r?7:534.13>r?8:534.16>r?9:534.24>r?10:534.3>r?11:535.01>r?12:535.02>r?"13+":535.07>r?15:535.11>r?16:535.19>r?17:536.05>r?18:536.1>r?19:537.01>r?20:537.11>r?"21+":537.13>r?23:537.18>r?24:537.24>r?25:537.36>
r?26:"Blink"!=F?"27":"28")):(F&&(F[1]="like Safari"),r=(r=r[0],400>r?1:500>r?2:526>r?3:533>r?4:534>r?"4+":535>r?5:537>r?6:538>r?7:601>r?8:"8"));F&&(F[1]+=" "+(r+="number"==typeof r?".x":/[.+]/.test(r)?"":"+"));"Safari"==x&&(!z||45<parseInt(z))&&(z=r)}"Opera"==x&&(r=/\bzbov|zvav$/.exec(n))?(x+=" ",C.unshift("desktop mode"),"zvav"==r?(x+="Mini",z=null):x+="Mobile",n=n.replace(RegExp(" *"+r+"$"),"")):"Safari"==x&&/\bChrome\b/.exec(F&&F[1])&&(C.unshift("desktop mode"),x="Chrome Mobile",z=null,/\bOS X\b/.test(n)?
(M="Apple",n="iOS 4.3+"):n=null);z&&0==z.indexOf(r=/[\d.]+$/.exec(n))&&-1<p.indexOf("/"+r+"-")&&(n=String(n.replace(r,"")).replace(/^ +| +$/g,""));F&&!/\b(?:Avant|Nook)\b/.test(x)&&(/Browser|Lunascape|Maxthon/.test(x)||"Safari"!=x&&/^iOS/.test(n)&&/\bSafari\b/.test(F[1])||/^(?:Adobe|Arora|Breach|Midori|Opera|Phantom|Rekonq|Rock|Samsung Internet|Sleipnir|Web)/.test(x)&&F[1])&&(r=F[F.length-1])&&C.push(r);C.length&&(C=["("+C.join("; ")+")"]);M&&H&&0>H.indexOf(M)&&C.push("on "+M);H&&C.push((/^on /.test(C[C.length-
1])?"":"on ")+H);if(n){var E=(r=/ ([\d.+]+)$/.exec(n))&&"/"==n.charAt(n.length-r[0].length-1);n={architecture:32,family:r&&!E?n.replace(r[0],""):n,version:r?r[1]:null,toString:function(){var I=this.version;return this.family+(I&&!E?" "+I:"")+(64==this.architecture?" 64-bit":"")}}}(r=/\b(?:AMD|IA|Win|WOW|x86_|x)64\b/i.exec(aa))&&!/\bi686\b/i.test(aa)?(n&&(n.architecture=64,n.family=n.family.replace(RegExp(" *"+r),"")),x&&(/\bWOW64\b/i.test(p)||N&&/\w(?:86|32)$/.test(S.cpuClass||S.platform)&&!/\bWin64; x64\b/i.test(p))&&
C.unshift("32-bit")):n&&/^OS X/.test(n.family)&&"Chrome"==x&&39<=parseFloat(z)&&(n.architecture=64);p||(p=null);A={};A.description=p;A.layout=F&&F[0];A.manufacturer=M;A.name=x;A.prerelease=Z;A.product=H;A.ua=p;A.version=x&&z;A.os=n||{architecture:null,family:null,version:null,toString:function(){return"null"}};A.parse=k;A.toString=function(){return this.description||""};A.version&&C.unshift(z);A.name&&C.unshift(x);n&&x&&(n!=String(n).split(" ")[0]||n!=x.split(" ")[0]&&!H)&&C.push(H?"("+n+")":"on "+
n);C.length&&(A.description=C.join(" "));return A}var l={"function":!0,object:!0},q=l[typeof window]&&window||this,m=l[typeof exports]&&exports;l=l[typeof module]&&module&&!module.nodeType&&module;var t=m&&l&&"object"==typeof global&&global;!t||t.global!==t&&t.window!==t&&t.self!==t||(q=t);var v=Math.pow(2,53)-1,u=/\bOpera/;t=Object.prototype;var w=t.hasOwnProperty,y=t.toString,B=k();"function"==typeof define&&"object"==typeof define.amd&&define.amd?(q.platform=B,define(function(){return B})):m&&
l?d(B,function(p,D){m[D]=p}):q.platform=B}).call(this);
function buildIOSMeta(){for(var a=[{name:"viewport",content:"width=device-width, height=device-height, initial-scale=1, minimum-scale=1, maximum-scale=1, user-scalable=no"},{name:"apple-mobile-web-app-capable",content:"yes"},{name:"apple-mobile-web-app-status-bar-style",content:"black"}],e=0;e<a.length;e++){var b=document.createElement("meta");b.name=a[e].name;b.content=a[e].content;var d=window.document.head.querySelector('meta[name="'+b.name+'"]');d&&d.parentNode.removeChild(d);window.document.head.appendChild(b)}}
function hideIOSFullscreenPanel(){jQuery(".xxx-ios-fullscreen-message").css("display","none");jQuery(".xxx-ios-fullscreen-scroll").css("display","none");jQuery(".xxx-game-iframe-full").removeClass("xxx-game-iframe-iphone-se")}function buildIOSFullscreenPanel(){jQuery("body").append('<div class="xxx-ios-fullscreen-message"><div class="xxx-ios-fullscreen-swipe"></div></div><div class="xxx-ios-fullscreen-scroll"></div>')}
function showIOSFullscreenPanel(){jQuery(".xxx-ios-fullscreen-message").css("display","block");jQuery(".xxx-ios-fullscreen-scroll").css("display","block")}
function __iosResize(){window.scrollTo(0,0);console.log(window.devicePixelRatio);console.log(window.innerWidth);console.log(window.innerHeight);if("iPhone"===platform.product)switch(window.devicePixelRatio){case 2:switch(window.innerWidth){case 568:320!==window.innerHeight&&jQuery(".xxx-game-iframe-full").addClass("xxx-game-iframe-iphone-se");break;case 667:375===window.innerHeight?hideIOSFullscreenPanel():showIOSFullscreenPanel();break;case 808:414===window.innerHeight?hideIOSFullscreenPanel():showIOSFullscreenPanel();
break;default:hideIOSFullscreenPanel()}break;case 3:switch(window.innerWidth){case 736:414===window.innerHeight?hideIOSFullscreenPanel():showIOSFullscreenPanel();break;case 724:375===window.innerHeight?hideIOSFullscreenPanel():showIOSFullscreenPanel();break;case 808:414===window.innerHeight?hideIOSFullscreenPanel():showIOSFullscreenPanel();break;default:hideIOSFullscreenPanel()}break;default:hideIOSFullscreenPanel()}}function iosResize(){__iosResize();setTimeout(function(){__iosResize()},500)}
function iosInIframe(){try{return window.self!==window.top}catch(a){return!0}}function isIOSLessThen13(){var a=platform.os,e=a.family.toLowerCase();a=parseFloat(a.version);return"ios"===e&&13>a?!0:!1}$(document).ready(function(){platform&&"iPhone"===platform.product&&"safari"===platform.name.toLowerCase()&&isIOSLessThen13()&&!iosInIframe()&&(buildIOSFullscreenPanel(),buildIOSMeta())});
jQuery(window).resize(function(){platform&&"iPhone"===platform.product&&"safari"===platform.name.toLowerCase()&&isIOSLessThen13()&&!iosInIframe()&&iosResize()});
(function(){var a="undefined"!==typeof window&&"undefined"!==typeof window.document?window.document:{},e="undefined"!==typeof module&&module.exports,b=function(){for(var f,g=["requestFullscreen exitFullscreen fullscreenElement fullscreenEnabled fullscreenchange fullscreenerror".split(" "),"webkitRequestFullscreen webkitExitFullscreen webkitFullscreenElement webkitFullscreenEnabled webkitfullscreenchange webkitfullscreenerror".split(" "),"webkitRequestFullScreen webkitCancelFullScreen webkitCurrentFullScreenElement webkitCancelFullScreen webkitfullscreenchange webkitfullscreenerror".split(" "),
"mozRequestFullScreen mozCancelFullScreen mozFullScreenElement mozFullScreenEnabled mozfullscreenchange mozfullscreenerror".split(" "),"msRequestFullscreen msExitFullscreen msFullscreenElement msFullscreenEnabled MSFullscreenChange MSFullscreenError".split(" ")],h=0,k=g.length,l={};h<k;h++)if((f=g[h])&&f[1]in a){for(h=0;h<f.length;h++)l[g[0][h]]=f[h];return l}return!1}(),d={change:b.fullscreenchange,error:b.fullscreenerror},c={request:function(f){return new Promise(function(g,h){var k=function(){this.off("change",
k);g()}.bind(this);this.on("change",k);f=f||a.documentElement;Promise.resolve(f[b.requestFullscreen]())["catch"](h)}.bind(this))},exit:function(){return new Promise(function(f,g){if(this.isFullscreen){var h=function(){this.off("change",h);f()}.bind(this);this.on("change",h);Promise.resolve(a[b.exitFullscreen]())["catch"](g)}else f()}.bind(this))},toggle:function(f){return this.isFullscreen?this.exit():this.request(f)},onchange:function(f){this.on("change",f)},onerror:function(f){this.on("error",f)},
on:function(f,g){var h=d[f];h&&a.addEventListener(h,g,!1)},off:function(f,g){var h=d[f];h&&a.removeEventListener(h,g,!1)},raw:b};b?(Object.defineProperties(c,{isFullscreen:{get:function(){return!!a[b.fullscreenElement]}},element:{enumerable:!0,get:function(){return a[b.fullscreenElement]}},isEnabled:{enumerable:!0,get:function(){return!!a[b.fullscreenEnabled]}}}),e?module.exports=c:window.screenfull=c):e?module.exports={isEnabled:!1}:window.screenfull={isEnabled:!1}})();
var s_iScaleFactor=1,s_bIsIphone=!1,s_iOffsetX,s_iOffsetY,s_bFocus=!0;
(function(a){(jQuery.browser=jQuery.browser||{}).mobile=/android|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(ad|hone|od)|iris|kindle|lge |maemo|midp|mmp|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|symbian|tablet|treo|up\.(browser|link)|vodafone|wap|webos|windows (ce|phone)|xda|xiino/i.test(a)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|e\-|e\/|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(di|rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|xda(\-|2|g)|yas\-|your|zeto|zte\-/i.test(a.substr(0,4))})(navigator.userAgent||
navigator.vendor||window.opera);$(window).resize(function(){sizeHandler()});function trace(a){console.log(a)}
function getSize(a){var e=a.toLowerCase(),b=window.document,d=b.documentElement;if(void 0===window["inner"+a])a=d["client"+a];else if(window["inner"+a]!=d["client"+a]){var c=b.createElement("body");c.id="vpw-test-b";c.style.cssText="overflow:scroll";var f=b.createElement("div");f.id="vpw-test-d";f.style.cssText="position:absolute;top:-1000px";f.innerHTML="<style>@media("+e+":"+d["client"+a]+"px){body#vpw-test-b div#vpw-test-d{"+e+":7px!important}}</style>";c.appendChild(f);d.insertBefore(c,b.head);
a=7==f["offset"+a]?d["client"+a]:window["inner"+a];d.removeChild(c)}else a=window["inner"+a];return a}window.addEventListener("orientationchange",onOrientationChange);function onOrientationChange(){window.matchMedia("(orientation: portrait)").matches&&sizeHandler();window.matchMedia("(orientation: landscape)").matches&&sizeHandler()}function isChrome(){return/Chrome/.test(navigator.userAgent)&&/Google Inc/.test(navigator.vendor)}function isMobile(){return isIpad()?!0:jQuery.browser.mobile}
function isIpad(){var a=-1!==navigator.userAgent.toLowerCase().indexOf("ipad");return!a&&navigator.userAgent.match(/Mac/)&&navigator.maxTouchPoints&&2<navigator.maxTouchPoints?!0:a}function isIOS(){for(var a="iPad Simulator;iPhone Simulator;iPod Simulator;iPad;iPhone;iPod".split(";");a.length;)if(navigator.platform===a.pop())return s_bIsIphone=!0;return s_bIsIphone=!1}function getIOSWindowHeight(){return document.documentElement.clientWidth/window.innerWidth*window.innerHeight}
function getHeightOfIOSToolbars(){var a=(0===window.orientation?screen.height:screen.width)-getIOSWindowHeight();return 1<a?a:0}
function sizeHandler(){window.scrollTo(0,1);if($("#canvas")){var a=null!==platform.name&&"safari"===platform.name.toLowerCase()?getIOSWindowHeight():getSize("Height");var e=getSize("Width");s_bFocus&&_checkOrientation(e,a);var b=Math.min(a/CANVAS_HEIGHT,e/CANVAS_WIDTH);e>a?(EDGEBOARD_X=0,EDGEBOARD_Y=540,s_bLandscape=!0):(EDGEBOARD_X=470,EDGEBOARD_Y=0,s_bLandscape=!1);var d=Math.round(CANVAS_WIDTH*b);b=Math.round(CANVAS_HEIGHT*b);if(b<a){var c=a-b;b+=c;d+=CANVAS_WIDTH/CANVAS_HEIGHT*c}else d<e&&(c=
e-d,d+=c,b+=CANVAS_HEIGHT/CANVAS_WIDTH*c);c=a/2-b/2;var f=e/2-d/2,g=CANVAS_WIDTH/d;if(f*g<-EDGEBOARD_X||c*g<-EDGEBOARD_Y)b=Math.min(a/(CANVAS_HEIGHT-2*EDGEBOARD_Y),e/(CANVAS_WIDTH-2*EDGEBOARD_X)),d=Math.round(CANVAS_WIDTH*b),b=Math.round(CANVAS_HEIGHT*b),c=(a-b)/2,f=(e-d)/2,g=CANVAS_WIDTH/d;s_iOffsetX=-1*f*g;s_iOffsetY=-1*c*g;0<=c&&(s_iOffsetY=0);0<=f&&(s_iOffsetX=0);null!==s_oGame&&s_oGame.refreshButtonPos();null!==s_oMenu&&s_oMenu.refreshButtonPos();$("#canvas").css("width",d+"px");$("#canvas").css("height",
b+"px");0>c||(c=(a-b)/2);$("#canvas").css("top",c+"px");$("#canvas").css("left",f+"px");fullscreenHandler()}}
function _checkOrientation(a,e){s_bMobile&&ENABLE_CHECK_ORIENTATION&&(a>e?"landscape"===$(".orientation-msg-container").attr("data-orientation")?($(".orientation-msg-container").css("display","none"),s_oMain.startUpdate()):($(".orientation-msg-container").css("display","block"),s_oMain.stopUpdate()):"portrait"===$(".orientation-msg-container").attr("data-orientation")?($(".orientation-msg-container").css("display","none"),s_oMain.startUpdate()):($(".orientation-msg-container").css("display","block"),
s_oMain.stopUpdate()))}function playSound(a,e,b){return!1===DISABLE_SOUND_MOBILE||!1===s_bMobile?(s_aSounds[a].play(),s_aSounds[a].volume(e),s_aSounds[a].loop(b),s_aSounds[a]):null}function stopSound(a){!1!==DISABLE_SOUND_MOBILE&&!1!==s_bMobile||s_aSounds[a].stop()}function setVolume(a,e){!1!==DISABLE_SOUND_MOBILE&&!1!==s_bMobile||s_aSounds[a].volume(e)}function setMute(a,e){!1!==DISABLE_SOUND_MOBILE&&!1!==s_bMobile||s_aSounds[a].mute(e)}
function createBitmap(a,e,b){var d=new createjs.Bitmap(a),c=new createjs.Shape;e&&b?c.graphics.beginFill("#fff").drawRect(0,0,e,b):c.graphics.beginFill("#ff0").drawRect(0,0,a.width,a.height);d.hitArea=c;return d}function createSprite(a,e,b,d,c,f){a=null!==e?new createjs.Sprite(a,e):new createjs.Sprite(a);e=new createjs.Shape;e.graphics.beginFill("#000000").drawRect(-b,-d,c,f);a.hitArea=e;return a}function pad(a,e,b){a+="";return a.length>=e?a:Array(e-a.length+1).join(b||"0")+a}
function linearFunction(a,e,b,d,c){return(a-e)*(c-d)/(b-e)+d}function randomFloatBetween(a,e,b){"undefined"===typeof b&&(b=2);return parseFloat(Math.min(a+Math.random()*(e-a),e).toFixed(b))}function rotateVector2D(a,e){var b=e.getX()*Math.cos(a)+e.getY()*Math.sin(a),d=e.getX()*-Math.sin(a)+e.getY()*Math.cos(a);e.set(b,d)}function tweenVectorsOnX(a,e,b){return a+b*(e-a)}function shuffle(a){for(var e=a.length,b,d;0!==e;)d=Math.floor(Math.random()*e),--e,b=a[e],a[e]=a[d],a[d]=b;return a}
function bubbleSort(a){do{var e=!1;for(var b=0;b<a.length-1;b++)a[b]>a[b+1]&&(e=a[b],a[b]=a[b+1],a[b+1]=e,e=!0)}while(e)}function compare(a,e){return a.index>e.index?-1:a.index<e.index?1:0}function CircularList(a,e){this.arr=a;this.currentIndex=e||0}CircularList.prototype._getNextIndex=function(){var a=this.currentIndex;return a<this.arr.length-1?a+1:0};CircularList.prototype._getPrevIndex=function(){var a=this.currentIndex,e=this.arr;return 0<a?a-1:e.length-1};CircularList.prototype.getNext=function(){return this.arr[this._getNextIndex()]};
CircularList.prototype.getPrev=function(){return this.arr[this._getPrevIndex()]};CircularList.prototype.next=function(){this.currentIndex=this._getNextIndex();return this.current()};CircularList.prototype.prev=function(){this.currentIndex=this._getPrevIndex();return this.current()};CircularList.prototype.current=function(){return this.arr[this.currentIndex]};CircularList.prototype.removeElement=function(a){a=this.arr.indexOf(a);-1<a&&this.arr.splice(a,1)};CircularList.prototype.getArray=function(){return this.arr};
CircularList.prototype.setCurrent=function(a){a=this.arr.indexOf(a);return-1<a?(this.currentIndex=a,this.current()):null};function easeLinear(a,e,b,d){return b*a/d+e}function easeInQuad(a,e,b,d){return b*(a/=d)*a+e}function easeInSine(a,e,b,d){return-b*Math.cos(a/d*(Math.PI/2))+b+e}function easeInCubic(a,e,b,d){return b*(a/=d)*a*a+e}
function getTrajectoryPoint(a,e){var b=new createjs.Point,d=(1-a)*(1-a),c=a*a;b.x=d*e.start.x+2*(1-a)*a*e.traj.x+c*e.end.x;b.y=d*e.start.y+2*(1-a)*a*e.traj.y+c*e.end.y;return b}function formatTime(a){a/=1E3;var e=Math.floor(a/60);a=parseFloat(a-60*e).toFixed(1);var b="";b=10>e?b+("0"+e+":"):b+(e+":");return 10>a?b+("0"+a):b+a}function degreesToRadians(a){return a*Math.PI/180}function checkRectCollision(a,e){var b=getBounds(a,.9);var d=getBounds(e,.98);return calculateIntersection(b,d)}
function calculateIntersection(a,e){var b,d,c,f;var g=a.x+(b=a.width/2);var h=a.y+(d=a.height/2);var k=e.x+(c=e.width/2);var l=e.y+(f=e.height/2);g=Math.abs(g-k)-(b+c);h=Math.abs(h-l)-(d+f);return 0>g&&0>h?(g=Math.min(Math.min(a.width,e.width),-g),h=Math.min(Math.min(a.height,e.height),-h),{x:Math.max(a.x,e.x),y:Math.max(a.y,e.y),width:g,height:h,rect1:a,rect2:e}):null}
function getBounds(a,e){var b={x:Infinity,y:Infinity,width:0,height:0};if(a instanceof createjs.Container){b.x2=-Infinity;b.y2=-Infinity;var d=a.children,c=d.length,f;for(f=0;f<c;f++){var g=getBounds(d[f],1);g.x<b.x&&(b.x=g.x);g.y<b.y&&(b.y=g.y);g.x+g.width>b.x2&&(b.x2=g.x+g.width);g.y+g.height>b.y2&&(b.y2=g.y+g.height)}Infinity==b.x&&(b.x=0);Infinity==b.y&&(b.y=0);Infinity==b.x2&&(b.x2=0);Infinity==b.y2&&(b.y2=0);b.width=b.x2-b.x;b.height=b.y2-b.y;delete b.x2;delete b.y2}else{if(a instanceof createjs.Bitmap){c=
a.sourceRect||a.image;f=c.width*e;var h=c.height*e}else if(a instanceof createjs.Sprite)if(a.spriteSheet._frames&&a.spriteSheet._frames[a.currentFrame]&&a.spriteSheet._frames[a.currentFrame].image){c=a.spriteSheet.getFrame(a.currentFrame);f=c.rect.width;h=c.rect.height;d=c.regX;var k=c.regY}else b.x=a.x||0,b.y=a.y||0;else b.x=a.x||0,b.y=a.y||0;d=d||0;f=f||0;k=k||0;h=h||0;b.regX=d;b.regY=k;c=a.localToGlobal(0-d,0-k);g=a.localToGlobal(f-d,h-k);f=a.localToGlobal(f-d,0-k);d=a.localToGlobal(0-d,h-k);b.x=
Math.min(Math.min(Math.min(c.x,g.x),f.x),d.x);b.y=Math.min(Math.min(Math.min(c.y,g.y),f.y),d.y);b.width=Math.max(Math.max(Math.max(c.x,g.x),f.x),d.x)-b.x;b.height=Math.max(Math.max(Math.max(c.y,g.y),f.y),d.y)-b.y}return b}function NoClickDelay(a){this.element=a;window.Touch&&this.element.addEventListener("touchstart",this,!1)}function shuffle(a){for(var e=a.length,b,d;0<e;)d=Math.floor(Math.random()*e),e--,b=a[e],a[e]=a[d],a[d]=b;return a}
NoClickDelay.prototype={handleEvent:function(a){switch(a.type){case "touchstart":this.onTouchStart(a);break;case "touchmove":this.onTouchMove(a);break;case "touchend":this.onTouchEnd(a)}},onTouchStart:function(a){a.preventDefault();this.moved=!1;this.element.addEventListener("touchmove",this,!1);this.element.addEventListener("touchend",this,!1)},onTouchMove:function(a){this.moved=!0},onTouchEnd:function(a){this.element.removeEventListener("touchmove",this,!1);this.element.removeEventListener("touchend",
this,!1);if(!this.moved){a=document.elementFromPoint(a.changedTouches[0].clientX,a.changedTouches[0].clientY);3==a.nodeType&&(a=a.parentNode);var e=document.createEvent("MouseEvents");e.initEvent("click",!0,!0);a.dispatchEvent(e)}}};
(function(){function a(b){var d={focus:"visible",focusin:"visible",pageshow:"visible",blur:"hidden",focusout:"hidden",pagehide:"hidden"};b=b||window.event;b.type in d?document.body.className=d[b.type]:(document.body.className=this[e]?"hidden":"visible","hidden"===document.body.className?(s_oMain.stopUpdate(),s_bFocus=!1):(s_oMain.startUpdate(),s_bFocus=!0))}var e="hidden";e in document?document.addEventListener("visibilitychange",a):(e="mozHidden")in document?document.addEventListener("mozvisibilitychange",
a):(e="webkitHidden")in document?document.addEventListener("webkitvisibilitychange",a):(e="msHidden")in document?document.addEventListener("msvisibilitychange",a):"onfocusin"in document?document.onfocusin=document.onfocusout=a:window.onpageshow=window.onpagehide=window.onfocus=window.onblur=a})();function ctlArcadeResume(){null!==s_oMain&&s_oMain.startUpdate()}function ctlArcadePause(){null!==s_oMain&&s_oMain.stopUpdate()}
function getParamValue(a){for(var e=window.location.search.substring(1).split("&"),b=0;b<e.length;b++){var d=e[b].split("=");if(d[0]==a)return d[1]}}function fullscreenHandler(){ENABLE_FULLSCREEN&&screenfull.isEnabled&&(s_bFullscreen=screenfull.isFullscreen,null!==s_oInterface&&s_oInterface.resetFullscreenBut(),null!==s_oMenu&&s_oMenu.resetFullscreenBut())}
if(screenfull.isEnabled)screenfull.on("change",function(){s_bFullscreen=screenfull.isFullscreen;null!==s_oInterface&&s_oInterface.resetFullscreenBut();null!==s_oMenu&&s_oMenu.resetFullscreenBut()});
function CSpriteLibrary(){var a={},e,b,d,c,f,g;this.init=function(h,k,l){e={};d=b=0;c=h;f=k;g=l};this.addSprite=function(h,k){if(!a.hasOwnProperty(h)){var l=new Image;a[h]=e[h]={szPath:k,oSprite:l,bLoaded:!1};b++}};this.getSprite=function(h){return a.hasOwnProperty(h)?a[h].oSprite:null};this._onSpritesLoaded=function(){b=0;f.call(g)};this._onSpriteLoaded=function(){c.call(g);++d===b&&this._onSpritesLoaded()};this.loadSprites=function(){for(var h in e)e[h].oSprite.oSpriteLibrary=this,e[h].oSprite.szKey=
h,e[h].oSprite.onload=function(){this.oSpriteLibrary.setLoaded(this.szKey);this.oSpriteLibrary._onSpriteLoaded(this.szKey)},e[h].oSprite.onerror=function(k){var l=k.currentTarget;setTimeout(function(){e[l.szKey].oSprite.src=e[l.szKey].szPath},500)},e[h].oSprite.src=e[h].szPath};this.setLoaded=function(h){a[h].bLoaded=!0};this.isLoaded=function(h){return a[h].bLoaded};this.getNumSprites=function(){return b}}
function CToggle(a,e,b,d,c){var f,g,h,k,l,q,m;this._init=function(t,v,u,w,y){h=[];k=[];g=!0;var B=new createjs.SpriteSheet({images:[u],frames:{width:u.width/2,height:u.height,regX:u.width/2/2,regY:u.height/2},animations:{state_true:[0],state_false:[1]}});f=w;m=createSprite(B,"state_"+f,u.width/2/2,u.height/2,u.width/2,u.height);m.x=t;m.y=v;m.stop();m.cursor="pointer";y.addChild(m);this._initListener()};this.unload=function(){m.off("mousedown",l);m.off("pressup",q);c.removeChild(m)};this._initListener=
function(){l=m.on("mousedown",this.buttonDown);q=m.on("pressup",this.buttonRelease)};this.addEventListener=function(t,v,u){h[t]=v;k[t]=u};this.setActive=function(t){f=t;m.gotoAndStop("state_"+f)};this.buttonRelease=function(){g&&(m.scaleX=1,m.scaleY=1,playSound("click",1,!1),f=!f,m.gotoAndStop("state_"+f),h[ON_MOUSE_UP]&&h[ON_MOUSE_UP].call(k[ON_MOUSE_UP],f))};this.buttonDown=function(){g&&(m.scaleX=.9,m.scaleY=.9,h[ON_MOUSE_DOWN]&&h[ON_MOUSE_DOWN].call(k[ON_MOUSE_DOWN]))};this.setPosition=function(t,
v){m.x=t;m.y=v};this.getButtonImage=function(){return m};this.disable=function(){g=!1};this.enable=function(){g=!0};this._init(a,e,b,d,c)}
function CGfxButton(a,e,b,d){var c,f,g,h,k,l,q=[],m;this._init=function(v,u,w){c=!1;f=1;k=[];l=[];m=createBitmap(w);m.x=v;m.y=u;m.cursor="pointer";m.regX=w.width/2;m.regY=w.height/2;t.addChild(m);this._initListener()};this.unload=function(){createjs.Tween.removeTweens(m);m.off("mousedown",g);m.off("pressup",h);t.removeChild(m)};this.disable=function(){c=!0};this.enable=function(){c=!1};this.setActive=function(v){c=!v};this.setVisible=function(v){m.visible=v};this.setScale=function(v){f=v;m.scaleX=
m.scaleY=f};this._initListener=function(){g=m.on("mousedown",this.buttonDown);h=m.on("pressup",this.buttonRelease)};this.addEventListener=function(v,u,w){k[v]=u;l[v]=w};this.addEventListenerWithParams=function(v,u,w,y){k[v]=u;l[v]=w;q=y};this.buttonRelease=function(){c||(m.scaleX=f,m.scaleY=f,k[ON_MOUSE_UP]&&k[ON_MOUSE_UP].call(l[ON_MOUSE_UP],q))};this.buttonDown=function(){c||(m.scaleX=.9*f,m.scaleY=.9*f,playSound("click",1,!1),k[ON_MOUSE_DOWN]&&k[ON_MOUSE_DOWN].call(l[ON_MOUSE_DOWN],q))};this.setScale=
function(v){f=v;m.scaleX=v;m.scaleY=v};this.setPosition=function(v,u){m.x=v;m.y=u};this.pulseAnimation=function(){createjs.Tween.get(m,{loop:!0,bounce:!0}).to({scale:.9*f},850,createjs.Ease.sineInOut)};this.playTween=function(v,u,w){createjs.Tween.get(m).to(v,u,w)};this.setAlpha=function(v){m.alpha=v};this.setX=function(v){m.x=v};this.setY=function(v){m.y=v};this.getButtonImage=function(){return m};this.getX=function(){return m.x};this.getY=function(){return m.y};var t=d;this._init(a,e,b)}
CTLText.prototype={constructor:CTLText,__autofit:function(){if(this._bFitText){for(var a=this._iFontSize;(this._oText.getBounds().height>this._iHeight-2*this._iPaddingV||this._oText.getBounds().width>this._iWidth-2*this._iPaddingH)&&!(a--,this._oText.font=a+"px "+this._szFont,this._oText.lineHeight=Math.round(a*this._fLineHeightFactor),this.__updateY(),this.__verticalAlign(),8>a););this._iFontSize=a}},__verticalAlign:function(){if(this._bVerticalAlign){var a=this._oText.getBounds().height;this._oText.y-=
(a-this._iHeight)/2+this._iPaddingV}},__updateY:function(){this._oText.y=this._y+this._iPaddingV;switch(this._oText.textBaseline){case "middle":this._oText.y+=this._oText.lineHeight/2+(this._iFontSize*this._fLineHeightFactor-this._iFontSize)}},__createText:function(a){this._bDebug&&(this._oDebugShape=new createjs.Shape,this._oDebugShape.graphics.beginFill("rgba(255,0,0,0.5)").drawRect(this._x,this._y,this._iWidth,this._iHeight),this._oContainer.addChild(this._oDebugShape));this._oText=new createjs.Text(a,
this._iFontSize+"px "+this._szFont,this._szColor);this._oText.textBaseline="middle";this._oText.lineHeight=Math.round(this._iFontSize*this._fLineHeightFactor);this._oText.textAlign=this._szAlign;this._oText.lineWidth=this._bMultiline?this._iWidth-2*this._iPaddingH:null;switch(this._szAlign){case "center":this._oText.x=this._x+this._iWidth/2;break;case "left":this._oText.x=this._x+this._iPaddingH;break;case "right":this._oText.x=this._x+this._iWidth-this._iPaddingH}this._oContainer.addChild(this._oText);
this.refreshText(a)},setVerticalAlign:function(a){this._bVerticalAlign=a},setOutline:function(a){null!==this._oText&&(this._oText.outline=a)},setShadow:function(a,e,b,d){null!==this._oText&&(this._oText.shadow=new createjs.Shadow(a,e,b,d))},setColor:function(a){this._oText.color=a},setAlpha:function(a){this._oText.alpha=a},setY:function(a){this._y=this._oText.y=a},removeTweens:function(){createjs.Tween.removeTweens(this._oText)},getText:function(){return this._oText},getX:function(){return this._x},
getY:function(){return this._y},getFontSize:function(){return this._iFontSize},setFontSize:function(a){this._iFontSize=a;this.refreshText(this._szMsg)},refreshText:function(a){""===a&&(a=" ");null===this._oText&&this.__createText(a);this._szMsg=this._oText.text=a;this._oText.font=this._iFontSize+"px "+this._szFont;this._oText.lineHeight=Math.round(this._iFontSize*this._fLineHeightFactor);this.__autofit();this.__updateY();this.__verticalAlign()}};
function CTLText(a,e,b,d,c,f,g,h,k,l,q,m,t,v,u,w,y){this._oContainer=a;this._szMsg=t;this._x=e;this._y=b;this._iWidth=d;this._iHeight=c;this._bMultiline=w;this._iFontSize=f;this._szAlign=g;this._szColor=h;this._szFont=k;this._iPaddingH=q;this._iPaddingV=m;this._bVerticalAlign=u;this._bFitText=v;this._bDebug=y;this._oDebugShape=null;this._fLineHeightFactor=l;this._oText=null;t&&this.__createText(t)}
!function(){function a(c){var f=c;if(d[f])f=d[f];else{for(var g=f,h,k=[],l=0;g;){if(null!==(h=b.text.exec(g)))k.push(h[0]);else if(null!==(h=b.modulo.exec(g)))k.push("%");else if(null!==(h=b.placeholder.exec(g))){if(h[2]){l|=1;var q=[],m=h[2],t;if(null!==(t=b.key.exec(m)))for(q.push(t[1]);""!==(m=m.substring(t[0].length));)if(null!==(t=b.key_access.exec(m)))q.push(t[1]);else if(null!==(t=b.index_access.exec(m)))q.push(t[1]);else throw new SyntaxError("[sprintf] failed to parse named argument key");
else throw new SyntaxError("[sprintf] failed to parse named argument key");h[2]=q}else l|=2;if(3===l)throw Error("[sprintf] mixing positional and named placeholders is not (yet) supported");k.push({placeholder:h[0],param_no:h[1],keys:h[2],sign:h[3],pad_char:h[4],align:h[5],width:h[6],precision:h[7],type:h[8]})}else throw new SyntaxError("[sprintf] unexpected placeholder");g=g.substring(h[0].length)}f=d[f]=k}g=arguments;h=1;k=f.length;q="";var v,u;for(m=0;m<k;m++)if("string"===typeof f[m])q+=f[m];
else if("object"===typeof f[m]){t=f[m];if(t.keys)for(l=g[h],v=0;v<t.keys.length;v++){if(void 0==l)throw Error(a('[sprintf] Cannot access property "%s" of undefined value "%s"',t.keys[v],t.keys[v-1]));l=l[t.keys[v]]}else l=t.param_no?g[t.param_no]:g[h++];b.not_type.test(t.type)&&b.not_primitive.test(t.type)&&l instanceof Function&&(l=l());if(b.numeric_arg.test(t.type)&&"number"!==typeof l&&isNaN(l))throw new TypeError(a("[sprintf] expecting number but found %T",l));b.number.test(t.type)&&(u=0<=l);
switch(t.type){case "b":l=parseInt(l,10).toString(2);break;case "c":l=String.fromCharCode(parseInt(l,10));break;case "d":case "i":l=parseInt(l,10);break;case "j":l=JSON.stringify(l,null,t.width?parseInt(t.width):0);break;case "e":l=t.precision?parseFloat(l).toExponential(t.precision):parseFloat(l).toExponential();break;case "f":l=t.precision?parseFloat(l).toFixed(t.precision):parseFloat(l);break;case "g":l=t.precision?String(Number(l.toPrecision(t.precision))):parseFloat(l);break;case "o":l=(parseInt(l,
10)>>>0).toString(8);break;case "s":l=String(l);l=t.precision?l.substring(0,t.precision):l;break;case "t":l=String(!!l);l=t.precision?l.substring(0,t.precision):l;break;case "T":l=Object.prototype.toString.call(l).slice(8,-1).toLowerCase();l=t.precision?l.substring(0,t.precision):l;break;case "u":l=parseInt(l,10)>>>0;break;case "v":l=l.valueOf();l=t.precision?l.substring(0,t.precision):l;break;case "x":l=(parseInt(l,10)>>>0).toString(16);break;case "X":l=(parseInt(l,10)>>>0).toString(16).toUpperCase()}if(b.json.test(t.type))q+=
l;else{if(!b.number.test(t.type)||u&&!t.sign)var w="";else w=u?"+":"-",l=l.toString().replace(b.sign,"");v=t.pad_char?"0"===t.pad_char?"0":t.pad_char.charAt(1):" ";var y=t.width-(w+l).length;y=t.width?0<y?v.repeat(y):"":"";q+=t.align?w+l+y:"0"===v?w+y+l:y+w+l}}return q}function e(c,f){return a.apply(null,[c].concat(f||[]))}var b={not_string:/[^s]/,not_bool:/[^t]/,not_type:/[^T]/,not_primitive:/[^v]/,number:/[diefg]/,numeric_arg:/[bcdiefguxX]/,json:/[j]/,not_json:/[^j]/,text:/^[^\x25]+/,modulo:/^\x25{2}/,
placeholder:/^\x25(?:([1-9]\d*)\$|\(([^)]+)\))?(\+)?(0|'[^$])?(-)?(\d+)?(?:\.(\d+))?([b-gijostTuvxX])/,key:/^([a-z_][a-z_\d]*)/i,key_access:/^\.([a-z_][a-z_\d]*)/i,index_access:/^\[(\d+)\]/,sign:/^[+-]/},d=Object.create(null);"undefined"!==typeof exports&&(exports.sprintf=a,exports.vsprintf=e);"undefined"!==typeof window&&(window.sprintf=a,window.vsprintf=e,"function"===typeof define&&define.amd&&define(function(){return{sprintf:a,vsprintf:e}}))}();
var CANVAS_WIDTH=1920,CANVAS_HEIGHT=1920,EDGEBOARD_X=0,EDGEBOARD_Y=0,PRIMARY_FONT="Cinzel",TEXT_COLOR_0="#fff",FPS=60,FPS_TIME=1E3/FPS,DISABLE_SOUND_MOBILE=!1,ENABLE_FULLSCREEN=!0,STATE_LOADING=0,STATE_MENU=1,STATE_HELP=2,STATE_GAME=3,STATE_SELECT=4,ON_MOUSE_DOWN=0,ON_MOUSE_UP=1,ON_MOUSE_OVER=2,ON_MOUSE_OUT=3,ON_DRAG_START=4,ON_DRAG_END=5,ON_CARD_DEALED=6,ON_HOME=7,ON_NEXT=9,ON_SELECT_LANG=10,ON_HELP_EXIT=11,ON_BUT_YES_DOWN=12,ON_BACK_MENU=13,ON_RESTART=14,ON_ANIMATION_START=15,ON_BUT_NO_DOWN=16,
ON_ANIMATION_END=17,ENABLE_CHECK_ORIENTATION,SOUNDTRACK_VOLUME_IN_GAME=.4,NUM_REWARDS,WIN_OCCURRENCE,SPHERE_POS={x:CANVAS_WIDTH/2,y:541},SPHERE_RADIUS=326,SPARKLE_RANGE=.78*SPHERE_RADIUS,MIN_SWIPE=150,HANDS_NUM_FRAMES_IDLE=141,HANDS_NUM_FRAMES_GOTOACTION=20,HANDS_NUM_FRAMES_GOTOIDLE=20,HANDS_NUM_FRAMES_ACTION=70,EFFECT_INFOS=[{frames:239,width:690,height:650,ready_for_reward:144},{frames:239,width:690,height:650,ready_for_reward:134}];
function CPreloader(){var a,e,b,d,c,f,g,h,k;this._init=function(){s_oSpriteLibrary.init(this._onImagesLoaded,this._onAllImagesLoaded,this);s_oSpriteLibrary.addSprite("progress_bar","./sprites/progress_bar.png");s_oSpriteLibrary.addSprite("200x200","./sprites/200x200.jpg");s_oSpriteLibrary.loadSprites();k=new createjs.Container;s_oStage.addChild(k)};this.unload=function(){s_oStage.removeAllChildren()};this._onImagesLoaded=function(){};this._onAllImagesLoaded=function(){this.attachSprites();s_oMain.preloaderReady()};
this.attachSprites=function(){var l=new createjs.Shape;l.graphics.beginFill("black").drawRect(0,0,CANVAS_WIDTH,CANVAS_HEIGHT);k.addChild(l);l=s_oSpriteLibrary.getSprite("200x200");g=createBitmap(l);g.regX=.5*l.width;g.regY=.5*l.height;g.x=CANVAS_WIDTH/2;g.y=CANVAS_HEIGHT/2-180;k.addChild(g);h=new createjs.Shape;h.graphics.beginFill("rgba(0,0,0,0.01)").drawRoundRect(g.x-100,g.y-100,200,200,10);k.addChild(h);g.mask=h;l=s_oSpriteLibrary.getSprite("progress_bar");d=createBitmap(l);d.x=CANVAS_WIDTH/2-
l.width/2;d.y=CANVAS_HEIGHT/2+50;k.addChild(d);a=l.width;e=l.height;c=new createjs.Shape;c.graphics.beginFill("rgba(0,0,0,0.01)").drawRect(d.x,d.y,1,e);k.addChild(c);d.mask=c;b=new createjs.Text("","30px "+PRIMARY_FONT,"#fff");b.x=CANVAS_WIDTH/2;b.y=CANVAS_HEIGHT/2+100;b.textBaseline="alphabetic";b.textAlign="center";k.addChild(b);f=new createjs.Shape;f.graphics.beginFill("black").drawRect(0,0,CANVAS_WIDTH,CANVAS_HEIGHT);k.addChild(f);createjs.Tween.get(f).to({alpha:0},500).call(function(){createjs.Tween.removeTweens(f);
k.removeChild(f)})};this.refreshLoader=function(l){b.text=l+"%";100===l&&(s_oMain.onRemovePreloader(),b.visible=!1,d.visible=!1);c.graphics.clear();l=Math.floor(l*a/100);c.graphics.beginFill("rgba(0,0,0,0.01)").drawRect(d.x,d.y,l,e)};this._init()}
function CMain(a){var e,b=0,d=0,c=STATE_LOADING,f,g;this.initContainer=function(){s_oCanvas=document.getElementById("canvas");s_oStage=new createjs.Stage(s_oCanvas);s_oStage.preventSelection=!0;createjs.Touch.enable(s_oStage,!0);s_bMobile=isMobile();!1===s_bMobile&&s_oStage.enableMouseOver(FPS);s_iPrevTime=(new Date).getTime();createjs.Ticker.addEventListener("tick",this._update);createjs.Ticker.framerate=FPS;createjs.Ticker.timingMode=createjs.Ticker.RAF_SYNCHED;navigator.userAgent.match(/Windows Phone/i)&&
(DISABLE_SOUND_MOBILE=!0);s_oSpriteLibrary=new CSpriteLibrary;f=new CPreloader};this.preloaderReady=function(){this._loadImages();!1!==DISABLE_SOUND_MOBILE&&!1!==s_bMobile||this._initSounds();e=!0};this.soundLoaded=function(){b++;f.refreshLoader(Math.floor(b/d*100))};this._initSounds=function(){Howler.mute(!s_bAudioActive);s_aSoundsInfo=[];s_aSoundsInfo.push({path:"./sounds/",filename:"soundtrack",loop:!0,volume:1,ingamename:"soundtrack"});s_aSoundsInfo.push({path:"./sounds/",filename:"click",loop:!1,
volume:1,ingamename:"click"});s_aSoundsInfo.push({path:"./sounds/",filename:"effect_"+s_iCurEffect,loop:!1,volume:1,ingamename:"effect"});s_aSoundsInfo.push({path:"./sounds/",filename:"sparkle",loop:!1,volume:1,ingamename:"sparkle"});s_aSoundsInfo.push({path:"./sounds/",filename:"win",loop:!1,volume:1,ingamename:"win"});s_aSoundsInfo.push({path:"./sounds/",filename:"lose",loop:!1,volume:1,ingamename:"lose"});d+=s_aSoundsInfo.length;s_aSounds=[];for(var k=0;k<s_aSoundsInfo.length;k++)this.tryToLoadSound(s_aSoundsInfo[k],
!1)};this.tryToLoadSound=function(k,l){setTimeout(function(){s_aSounds[k.ingamename]=new Howl({src:[k.path+k.filename+".mp3"],autoplay:!1,preload:!0,loop:k.loop,volume:k.volume,onload:s_oMain.soundLoaded,onloaderror:function(q,m){for(var t=0;t<s_aSoundsInfo.length;t++)if(q===s_aSounds[s_aSoundsInfo[t].ingamename]._sounds[0]._id){s_oMain.tryToLoadSound(s_aSoundsInfo[t],!0);break}},onplayerror:function(q){for(var m=0;m<s_aSoundsInfo.length;m++)if(q===s_aSounds[s_aSoundsInfo[m].ingamename]._sounds[0]._id){s_aSounds[s_aSoundsInfo[m].ingamename].once("unlock",
function(){s_aSounds[s_aSoundsInfo[m].ingamename].play();"soundtrack"===s_aSoundsInfo[m].ingamename&&null!==s_oGame&&setVolume("soundtrack",SOUNDTRACK_VOLUME_IN_GAME)});break}}})},l?200:0)};this._loadImages=function(){s_oSpriteLibrary.init(this._onImagesLoaded,this._onAllImagesLoaded,this);s_oSpriteLibrary.addSprite("but_play","./sprites/but_play.png");s_oSpriteLibrary.addSprite("msg_box","./sprites/msg_box.png");s_oSpriteLibrary.addSprite("ctl_logo","./sprites/ctl_logo.png");s_oSpriteLibrary.addSprite("but_info",
"./sprites/but_info.png");s_oSpriteLibrary.addSprite("table","./sprites/table.png");s_oSpriteLibrary.addSprite("bg_menu","./sprites/bg_menu.jpg");s_oSpriteLibrary.addSprite("bg_game","./sprites/bg_game.jpg");s_oSpriteLibrary.addSprite("but_exit","./sprites/but_exit.png");s_oSpriteLibrary.addSprite("audio_icon","./sprites/audio_icon.png");s_oSpriteLibrary.addSprite("but_fullscreen","./sprites/but_fullscreen.png");s_oSpriteLibrary.addSprite("but_settings","./sprites/but_settings.png");s_oSpriteLibrary.addSprite("text_button",
"./sprites/text_button.png");s_oSpriteLibrary.addSprite("but_yes","./sprites/but_yes.png");s_oSpriteLibrary.addSprite("but_no","./sprites/but_no.png");s_oSpriteLibrary.addSprite("sphere_bg","./sprites/sphere_bg.png");s_oSpriteLibrary.addSprite("sphere_off","./sprites/sphere_off.png");s_oSpriteLibrary.addSprite("sphere_on","./sprites/sphere_on.png");s_oSpriteLibrary.addSprite("sphere_reflections","./sprites/sphere_reflections.png");s_oSpriteLibrary.addSprite("reward_rays","./sprites/reward_rays.png");
s_oSpriteLibrary.addSprite("logo_menu","./sprites/logo_menu.png");s_oSpriteLibrary.addSprite("help_hand","./sprites/help_hand.png");for(var k=0;k<NUM_REWARDS;k++)s_oSpriteLibrary.addSprite("reward_"+k,"./sprites/rewards/reward_"+k+".png");s_oSpriteLibrary.addSprite("no_win","./sprites/no_win.png");for(k=0;k<EFFECT_INFOS[s_iCurEffect].frames;k++)s_oSpriteLibrary.addSprite("effect_"+s_iCurEffect+"_"+k,"./sprites/effect_"+s_iCurEffect+"/effect_"+s_iCurEffect+"_"+k+".png");for(k=0;231>k;k++)s_oSpriteLibrary.addSprite("left_arm_"+
k,"./sprites/left_arm/left_arm_"+k+".png"),s_oSpriteLibrary.addSprite("right_arm_"+k,"./sprites/right_arm/right_arm_"+k+".png");for(k=0;39>k;k++)s_oSpriteLibrary.addSprite("sparkle_finger_"+k,"./sprites/sparkle_finger/sparkle_finger_"+k+".png");d+=s_oSpriteLibrary.getNumSprites();s_oSpriteLibrary.loadSprites()};this._onImagesLoaded=function(){b++;f.refreshLoader(Math.floor(b/d*100))};this._onAllImagesLoaded=function(){};this.onRemovePreloader=function(){f.unload();s_oSoundtrack=playSound("soundtrack",
1,!0);this.gotoMenu()};this.gotoMenu=function(){new CMenu;c=STATE_MENU};this.gotoGame=function(){g=new CGame(h);c=STATE_GAME};this.gotoHelp=function(){new CHelp;c=STATE_HELP};this.stopUpdateNoBlock=function(){e=!1;createjs.Ticker.paused=!0};this.startUpdateNoBlock=function(){s_iPrevTime=(new Date).getTime();e=!0;createjs.Ticker.paused=!1};this.stopUpdate=function(){e=!1;createjs.Ticker.paused=!0;$("#block_game").css("display","block");!1!==DISABLE_SOUND_MOBILE&&!1!==s_bMobile||Howler.mute(!0)};this.startUpdate=
function(){s_iPrevTime=(new Date).getTime();e=!0;createjs.Ticker.paused=!1;$("#block_game").css("display","none");(!1===DISABLE_SOUND_MOBILE||!1===s_bMobile)&&s_bAudioActive&&Howler.mute(!1)};this._update=function(k){if(!1!==e){var l=(new Date).getTime();s_iTimeElaps=l-s_iPrevTime;s_iCntTime+=s_iTimeElaps;s_iCntFps++;s_iPrevTime=l;1E3<=s_iCntTime&&(s_iCurFps=s_iCntFps,s_iCntTime-=1E3,s_iCntFps=0);c===STATE_GAME&&g.update();s_oStage.update(k)}};s_oMain=this;var h=a;s_iCurEffect=a.effect_type;WIN_OCCURRENCE=
a.win_occurrence;NUM_REWARDS=a.num_rewards;ENABLE_FULLSCREEN=a.fullscreen;ENABLE_CHECK_ORIENTATION=a.check_orientation;s_bAudioActive=a.audio_enable_on_startup;this.initContainer()}var s_bMobile,s_bAudioActive=!1,s_iCntTime=0,s_iTimeElaps=0,s_iPrevTime=0,s_iCntFps=0,s_iCurFps=0,s_bFullscreen=!1,s_oDrawLayer,s_oStage,s_oMain,s_oSpriteLibrary,s_oSoundtrack=null,s_oCanvas,s_aSounds,s_aSoundsInfo,s_iCurEffect,s_iDistSwipeIncrease;
function CMenu(){var a,e,b,d,c,f,g,h,k,l,q,m,t,v,u,w,y=null,B=null;this._init=function(){k=new createjs.Container;s_oStage.addChild(k);l=createBitmap(s_oSpriteLibrary.getSprite("bg_menu"));k.addChild(l);g=CANVAS_WIDTH/2;h=CANVAS_HEIGHT-200;var p=s_oSpriteLibrary.getSprite("but_play");q=new CGfxButton(g,h,p,k);q.addEventListener(ON_MOUSE_UP,this._onButLocalRelease,this);p=s_oSpriteLibrary.getSprite("but_info");c=p.width/2+5;f=p.height/2+5;v=new CGfxButton(CANVAS_WIDTH/2,CANVAS_HEIGHT-240,p,k);v.addEventListener(ON_MOUSE_UP,
this._onCreditsBut,this);if(!1===DISABLE_SOUND_MOBILE||!1===s_bMobile)p=s_oSpriteLibrary.getSprite("audio_icon"),b=CANVAS_WIDTH-p.height/2-5,d=p.height/2+5,t=new CToggle(b,d,p,s_bAudioActive,k),t.addEventListener(ON_MOUSE_UP,this._onAudioToggle,this);p=window.document;var D=p.documentElement;y=D.requestFullscreen||D.mozRequestFullScreen||D.webkitRequestFullScreen||D.msRequestFullscreen;B=p.exitFullscreen||p.mozCancelFullScreen||p.webkitExitFullscreen||p.msExitFullscreen;!1===ENABLE_FULLSCREEN&&(y=
!1);y&&screenfull.isEnabled&&(p=s_oSpriteLibrary.getSprite("but_fullscreen"),a=c+p.width/2,e=f,w=new CToggle(a,e,p,s_bFullscreen,k),w.addEventListener(ON_MOUSE_UP,this._onFullscreen,this));p=s_oSpriteLibrary.getSprite("logo_menu");u=createBitmap(p);u.regX=p.width/2;u.regY=p.height/2;u.x=CANVAS_WIDTH/2;u.y=CANVAS_HEIGHT/2+20;u.alpha=0;u.rotation=0;k.addChild(u);m=new createjs.Shape;m.graphics.beginFill("black").drawRect(0,0,CANVAS_WIDTH,CANVAS_HEIGHT);k.addChild(m);createjs.Tween.get(m).to({alpha:0},
1E3,createjs.Ease.cubicOut).call(function(){m.visible=!1});createjs.Tween.get(u).to({rotation:-1},750,createjs.Ease.sineOut).to({rotation:0},750,createjs.Ease.sineIn);createjs.Tween.get(u).to({y:CANVAS_HEIGHT/2-20,alpha:1},1500,createjs.Ease.sineOut).call(function(){createjs.Tween.get(u,{loop:!0}).to({rotation:1},750,createjs.Ease.sineOut).to({rotation:0},750,createjs.Ease.sineIn).to({rotation:-1},750,createjs.Ease.sineOut).to({rotation:0},750,createjs.Ease.sineIn);createjs.Tween.get(u,{loop:!0,bounce:!0}).to({y:CANVAS_HEIGHT/
2},1500,createjs.Ease.sineInOut)});null!==s_oSoundtrack&&setVolume("soundtrack",1);this.refreshButtonPos()};this.unload=function(){q.unload();m.visible=!1;v.unload();if(!1===DISABLE_SOUND_MOBILE||!1===s_bMobile)t.unload(),t=null;y&&screenfull.isEnabled&&w.unload();s_oStage.removeChild(k);createjs.Tween.removeTweens(m);createjs.Tween.removeTweens(u);s_oMenu=null};this.refreshButtonPos=function(){v.setPosition(c+s_iOffsetX,s_iOffsetY+f);!1!==DISABLE_SOUND_MOBILE&&!1!==s_bMobile||t.setPosition(b-s_iOffsetX,
s_iOffsetY+d);y&&screenfull.isEnabled&&w.setPosition(a+s_iOffsetX,e+s_iOffsetY);q.setPosition(g,h-s_iOffsetY)};this.resetFullscreenBut=function(){y&&screenfull.isEnabled&&w.setActive(s_bFullscreen)};this._onFullscreen=function(){s_bFullscreen?B.call(window.document):y.call(window.document.documentElement);sizeHandler()};this._onAudioToggle=function(){Howler.mute(s_bAudioActive);s_bAudioActive=!s_bAudioActive};this._onCreditsBut=function(){new CCreditsPanel};this._onButLocalRelease=function(){y&&screenfull.isEnabled&&
w.disable();!1!==DISABLE_SOUND_MOBILE&&!1!==s_bMobile||t.disable();q.disable();v.disable();createjs.Tween.get(k).to({alpha:0},1500).call(function(){s_oMenu.unload();s_iDistSwipeIncrease=1});$(s_oMain).trigger("start_session");s_oMain.gotoGame()};s_oMenu=this;this._init()}var s_oMenu=null;
function CGame(){var a,e,b,d,c,f,g,h,k,l,q,m,t,v,u,w,y,B,p,D,G,A,C,S,z,X,ca,T,K,W,Y,Q,R,P,U,r,aa,Z,N,F,x,H,M;this._init=function(){setVolume("soundtrack",SOUNDTRACK_VOLUME_IN_GAME);T=new createjs.Container;s_oStage.addChildAt(T,0);var n=createBitmap(s_oSpriteLibrary.getSprite("bg_game"));T.addChild(n);K=new createjs.Container;K.x=CANVAS_WIDTH/2;K.y=CANVAS_HEIGHT/2;K.regX=SPHERE_POS.x;K.regY=SPHERE_POS.y;T.addChild(K);n=createBitmap(s_oSpriteLibrary.getSprite("table"));n.y=821;K.addChild(n);n=s_oSpriteLibrary.getSprite("sphere_bg");
var E=createBitmap(n);E.regX=n.width/2;E.regY=n.height/2;E.x=SPHERE_POS.x;E.y=SPHERE_POS.y;K.addChild(E);F=new createjs.Container;F.x=SPHERE_POS.x;F.y=SPHERE_POS.y;K.addChild(F);E=s_oSpriteLibrary.getSprite("reward_rays");P=createBitmap(E);P.regX=E.width/2;P.regY=E.height/2;F.addChild(P);x=new createjs.Container;K.addChild(x);u=200;w=[];y=[];for(var I=0;I<u;I++)w.push(I),E=new CSparkle(I,x),E.addEventListener(ON_ANIMATION_END,this.onSparkleEnd,this),y.push(E);E=[];for(I=0;I<EFFECT_INFOS[s_iCurEffect].frames;I++)E[I]=
s_oSpriteLibrary.getSprite("effect_"+s_iCurEffect+"_"+I);E=new createjs.SpriteSheet({images:E,frames:{width:EFFECT_INFOS[s_iCurEffect].width,height:EFFECT_INFOS[s_iCurEffect].height,regX:EFFECT_INFOS[s_iCurEffect].width/2,regY:EFFECT_INFOS[s_iCurEffect].height/2},animations:{start:0,anim_0:[0,EFFECT_INFOS[s_iCurEffect].ready_for_reward-1,"anim_1"],anim_1:[EFFECT_INFOS[s_iCurEffect].ready_for_reward,EFFECT_INFOS[s_iCurEffect].frames-1,"stop_anim"],stop_anim:EFFECT_INFOS[s_iCurEffect].frames-1}});R=
createSprite(E,"start",EFFECT_INFOS[s_iCurEffect].width/2,EFFECT_INFOS[s_iCurEffect].height/2,EFFECT_INFOS[s_iCurEffect].width,EFFECT_INFOS[s_iCurEffect].height);R.stop();R.x=SPHERE_POS.x;R.y=SPHERE_POS.y;R.on("animationend",this._onEffectAnimEnd,this);K.addChild(R);E=createBitmap(s_oSpriteLibrary.getSprite("sphere_off"));E.regX=n.width/2;E.regY=n.height/2;E.x=SPHERE_POS.x;E.y=SPHERE_POS.y;K.addChild(E);Q=createBitmap(s_oSpriteLibrary.getSprite("sphere_on"));Q.regX=n.width/2;Q.regY=n.height/2;Q.x=
SPHERE_POS.x;Q.y=SPHERE_POS.y;K.addChild(Q);E=createBitmap(s_oSpriteLibrary.getSprite("sphere_reflections"));E.regX=n.width/2;E.regY=n.height/2;E.x=SPHERE_POS.x;E.y=SPHERE_POS.y;K.addChild(E);U=new CHands(238,165,K);U.addEventListener(ON_ANIMATION_START,this.onHandsAnimationStart,this);c=U.getWidth();aa=new CTLText(T,CANVAS_WIDTH/2-300,CANVAS_HEIGHT/2+215,600,200,50,"center","#fff",PRIMARY_FONT,1.1,2,2,TEXT_HELP,!0,!0,!0,!1);n=s_oSpriteLibrary.getSprite("help_hand");W=createBitmap(n);W.x=SPHERE_POS.x;
W.y=SPHERE_POS.y;W.regX=36;W.regY=10;K.addChild(W);B=[];p=[];B[0]=!0;p[0]=createjs.Tween.get(W,{loop:!0}).to({x:SPHERE_POS.x+150},1E3,createjs.Ease.sineOut).to({x:SPHERE_POS.x},1E3,createjs.Ease.sineIn).to({x:SPHERE_POS.x-150},1E3,createjs.Ease.sineOut).to({x:SPHERE_POS.x},1E3,createjs.Ease.sineIn);B[1]=!0;p[1]=createjs.Tween.get(W,{loop:!0}).to({y:SPHERE_POS.y-75},500,createjs.Ease.sineOut).to({y:SPHERE_POS.y},500,createjs.Ease.sineIn).to({y:SPHERE_POS.y+75},500,createjs.Ease.sineOut).to({y:SPHERE_POS.y},
500,createjs.Ease.sineIn);e=!0;N=new createjs.Shape;N.graphics.beginFill("rgba(0,0,0,0.01)").drawCircle(SPHERE_POS.x,SPHERE_POS.y,SPHERE_RADIUS);k=N.on("mousedown",this._onSpherePress,this);K.addChild(N);r=new CInterface(T);Z=new CAreYouSurePanel(T);Z.addEventListener(ON_BUT_YES_DOWN,this.onConfirmExit,this);Z.addEventListener(ON_BUT_NO_DOWN,this.onDenyExit,this);H=new CMsgBox(T);H.addEventListener(ON_BUT_YES_DOWN,this.onLose,this);M=new createjs.Shape;M.graphics.beginFill("black").drawRect(0,0,CANVAS_WIDTH,
CANVAS_HEIGHT);M.alpha=0;M.visible=!1;m=M.on("click",function(){});T.addChild(M);this.refreshButtonPos();this.resetVars();s_iDistSwipeIncrease=0};this.unload=function(){y.forEach(function(n){n.unload()});r.unload();U.unload();N.removeAllEventListeners();R.removeAllEventListeners();M.off("click",m);s_oGame=null;createjs.Tween.removeAllTweens();s_oStage.removeChild(T)};this.refreshButtonPos=function(){r.refreshButtonPos();K.scale=c>=CANVAS_WIDTH-2*s_iOffsetX?(CANVAS_WIDTH-2*s_iOffsetX)/c:1;g=SPARKLE_RANGE*
K.scale};this.resetVars=function(){b=!1;d=null;D=[];G=[];A=[];C=[];S=[];z=[];X=[];ca=[];F.alpha=0;P.alpha=0;P.rotation=0;P.scale=1;Q.alpha=0;aa.setAlpha(1);U.playAnim("idle")};this.prepareStartLevel=function(){a=!0};this.onExit=function(){this.stopUpdate();Z.show(TEXT_ARE_YOU_SURE,90)};this.onDenyExit=function(){this.startUpdate();b&&(b=!1,H.show(TEXT_LOSE[0]+(TEXT_LOSE[1]?"\n"+TEXT_LOSE[1]:"")))};this.onConfirmExit=function(){this.unload();$(s_oMain).trigger("show_interlevel_ad");$(s_oMain).trigger("end_session");
s_oMain.gotoMenu()};this.onRedeem=function(){window.location.href = "https://www.codethislab.com/index.php?prize="+d;this.onConfirmExit()};this._onSpherePress=function(n){h=f=0;n={x:n.stageX,y:n.stageY};var E=n.x-K.x,I=n.y-K.y,J=Math.sqrt(E*E+I*I);J>g&&(n.x=K.x+E/J*g,n.y=K.y+I/J*g);n=x.globalToLocal(n.x,n.y);t=new CVector2(n.x,n.y);l=N.on("pressmove",this._onMove,this);q=N.on("pressup",this._onSphereUp,this);a=!0;e&&(e=!1,B.forEach(function(L){}),createjs.Tween.removeTweens(W),K.removeChild(W))};this._onMove=
function(n){n={x:n.stageX,y:n.stageY};var E=n.x-K.x,I=n.y-K.y,J=Math.sqrt(E*E+I*I);J>g&&(n.x=K.x+E/J*g,n.y=K.y+I/J*g);n=x.globalToLocal(n.x,n.y);f+=s_iDistSwipeIncrease;f>=MIN_SWIPE&&(N.off("mousedown",k),N.off("pressmove",l),N.off("pressup",q),s_oGame._startAnimReward());h--;0>=h&&(h=50,playSound("sparkle",1));v=new CVector2(n.x,n.y);this._interpolatePoints()};this._interpolatePoints=function(){var n=v.getX(),E=v.getY();v.subV(t);var I=v.length();v.normalize();v.scalarProduct(30);I/=30;for(var J=
t.getX(),L=t.getY(),O,V,da,ba=0;ba<I;ba++)V=parseInt(J+ba*v.getX()),da=parseInt(L+ba*v.getY()),O=w.pop(),void 0==O&&(w.push(u),O=new CSparkle(u,x),O.addEventListener(ON_ANIMATION_END,this.onSparkleEnd,this),y.push(O),O=w.pop(),u++),y[O].play(V,da,1);t=new CVector2(n,E)};this.onSparkleEnd=function(n){w.push(n)};this._onSphereUp=function(n){N.off("mousedown",k);N.off("pressmove",l);N.off("pressup",q);s_oGame._startAnimReward()};this.onHandsAnimationStart=function(n){switch(n){case "gotoaction":createjs.Tween.removeTweens(Q);
D[0]=!0;G[0]=createjs.Tween.get(Q).to({alpha:1},FPS_TIME*HANDS_NUM_FRAMES_GOTOACTION,createjs.quadOut).call(function(){D[0]=!1});break;case "action":createjs.Tween.removeTweens(Q);Q.alpha=1;D[0]=!0;G[0]=createjs.Tween.get(Q,{loop:!0,bounce:!0}).to({alpha:.5},FPS_TIME*HANDS_NUM_FRAMES_ACTION/2,createjs.quadInOut);break;case "gotoidle":createjs.Tween.removeTweens(Q);D[0]=!0;G[0]=createjs.Tween.get(Q).to({alpha:0},FPS_TIME*HANDS_NUM_FRAMES_GOTOIDLE,createjs.quadOut).call(function(){D[0]=!1});break;case "idle":createjs.Tween.removeTweens(Q),
Q.alpha=0,D[0]=!0,G[0]=createjs.Tween.get(Q,{loop:!0,bounce:!0}).to({alpha:.5},FPS_TIME*HANDS_NUM_FRAMES_IDLE/2,createjs.Ease.sineInOut)}};this._startAnimReward=function(){createjs.Tween.get(aa.getText()).to({alpha:0},500,createjs.Ease.cubicOut);U.setNextAnim("gotoaction");R.gotoAndPlay("anim_0");playSound("effect",1)};this._onEffectAnimEnd=function(n){if("anim_0"===n.name)s_oGame.placeReward();else if("stop_anim"===n.name)s_oGame.onEffectEnd()};this.placeReward=function(){this._playRewardRays();
if(randomFloatBetween(0,100)<WIN_OCCURRENCE){d=Math.floor(Math.random()*NUM_REWARDS);var n=s_oSpriteLibrary.getSprite("reward_"+d)}else n=s_oSpriteLibrary.getSprite("no_win");Y=createBitmap(n);Y.regX=n.width/2;Y.regY=n.height/2;Y.rotation=2;F.addChild(Y);A[0]=!0;C[0]=createjs.Tween.get(Y,{loop:!0,bounce:!0}).to({rotation:-2},3E3,createjs.Ease.sineInOut);A[1]=!0;C[1]=createjs.Tween.get(Y,{loop:!0,bounce:!0}).to({y:15},2E3,createjs.Ease.sineInOut);X[0]=!0;ca[0]=createjs.Tween.get(F).to({alpha:1},1E3).call(function(){X[0]=
!1})};this._playRewardRays=function(){P.alpha=.7;P.scale=.9;P.rotation=0;S[0]=!0;z[0]=createjs.Tween.get(P,{loop:!0,bounce:!0}).to({alpha:1,scale:1},1500,createjs.Ease.sineInOut);S[1]=!0;z[1]=createjs.Tween.get(P,{loop:!0}).to({rotation:360},2E4)};this.onEffectEnd=function(){R.stop();U.setNextAnim("gotoidle");null!=d?(playSound("win",1),r.showRedeemButton()):(playSound("lose",1),setTimeout(function(){a?H.show(TEXT_LOSE[0]+(TEXT_LOSE[1]?"\n"+TEXT_LOSE[1]:"")):b=!0},1500))};this.onLose=function(){H.hide();
M.visible=!0;M.alpha=0;createjs.Tween.get(M).to({alpha:1},750).call(function(){s_oGame.onConfirmExit()})};this.stopUpdate=function(){a=!1;U.stopUpdate();for(var n=0;n<B.length;n++)1==B[n]&&(p[n].paused=!0);for(n=0;n<D.length;n++)1==D[n]&&(G[n].paused=!0);for(n=0;n<A.length;n++)1==A[n]&&(C[n].paused=!0);for(n=0;n<S.length;n++)1==S[n]&&(z[n].paused=!0);for(n=0;n<X.length;n++)1==X[n]&&(ca[n].paused=!0);"anim_0"!=R.currentAnimation&&"anim_1"!=R.currentAnimation||R.stop()};this.startUpdate=function(){a=
!0;U.startUpdate();for(var n=0;n<B.length;n++)1==B[n]&&(p[n].paused=!1);for(n=0;n<D.length;n++)1==D[n]&&(G[n].paused=!1);for(n=0;n<A.length;n++)1==A[n]&&(C[n].paused=!1);for(n=0;n<S.length;n++)1==S[n]&&(z[n].paused=!1);for(n=0;n<X.length;n++)1==X[n]&&(ca[n].paused=!1);"anim_0"!=R.currentAnimation&&"anim_1"!=R.currentAnimation||R.play()};this.update=function(){};s_oGame=this;this._init()}var s_oGame=null;
function CInterface(a){var e,b,d,c,f,g,h,k,l,q,m,t,v,u=null,w=null,y;this._init=function(){y=new createjs.Container;var B=s_oSpriteLibrary.getSprite("but_exit");h=CANVAS_WIDTH-B.height/2-5;k=B.height/2+5;q=new CGfxButton(h,k,B,y);q.addEventListener(ON_MOUSE_UP,this._onExit,this);f=CANVAS_WIDTH-B.width/2-100;g=B.height/2+5;if(!1===DISABLE_SOUND_MOBILE||!1===s_bMobile)B=s_oSpriteLibrary.getSprite("audio_icon"),l=new CToggle(f,g,B,s_bAudioActive,y),l.addEventListener(ON_MOUSE_UP,this._onAudioToggle,
this);B=window.document;var p=B.documentElement;u=p.requestFullscreen||p.mozRequestFullScreen||p.webkitRequestFullScreen||p.msRequestFullscreen;w=B.exitFullscreen||B.mozCancelFullScreen||B.webkitExitFullscreen||B.msExitFullscreen;!1===ENABLE_FULLSCREEN&&(u=!1);u&&screenfull.isEnabled&&(B=s_oSpriteLibrary.getSprite("but_fullscreen"),d=B.width/4+5,c=B.height/2+5,m=new CToggle(d,c,B,s_bFullscreen,y),m.addEventListener(ON_MOUSE_UP,this._onFullscreen,this));B=s_oSpriteLibrary.getSprite("but_settings");
e=CANVAS_WIDTH-B.height/2-5;b=B.height/2+5;t=new CGUIExpandible(e,b,B,y);t.addButton(q);!1!==DISABLE_SOUND_MOBILE&&!1!==s_bMobile||t.addButton(l);u&&screenfull.isEnabled&&t.addButton(m);B=s_oSpriteLibrary.getSprite("text_button");v=new CTextButton(CANVAS_WIDTH/2,CANVAS_HEIGHT/2+325,B,TEXT_REDEEM,PRIMARY_FONT,TEXT_COLOR_0,60,y);v.setVisible(!1);v.addEventListener(ON_MOUSE_UP,this._onRedeem,this);a.addChild(y);this.refreshButtonPos()};this.unload=function(){if(!1===DISABLE_SOUND_MOBILE||!1===s_bMobile)l.unload(),
l=null;q.unload();u&&screenfull.isEnabled&&m.unload();t.unload();v.unload();s_oInterface=null;a.removeChild(y)};this.refreshButtonPos=function(){t.refreshPos()};this.showRedeemButton=function(){v.setAlpha(0);v.setVisible(!0);v.playTween({alpha:1},500,createjs.Ease.cubicOut)};this.setOnTop=function(){a.addChildAt(y,a.numChildren)};this._onRedeem=function(){s_oGame.onRedeem()};this._onAudioToggle=function(){Howler.mute(s_bAudioActive);s_bAudioActive=!s_bAudioActive};this._onExit=function(){s_oGame.onExit()};
this._onRestart=function(){s_oGame.restart()};this.resetFullscreenBut=function(){u&&screenfull.isEnabled&&m.setActive(s_bFullscreen)};this._onFullscreen=function(){s_bFullscreen?w.call(window.document):u.call(window.document.documentElement);sizeHandler()};s_oInterface=this;this._init();return this}var s_oInterface=null;
function CCreditsPanel(){var a,e,b,d,c,f,g,h,k;this._init=function(){c=new createjs.Shape;c.graphics.beginFill("black").drawRect(0,0,CANVAS_WIDTH,CANVAS_HEIGHT);c.alpha=0;d=c.on("click",function(){});s_oStage.addChild(c);createjs.Tween.get(c).to({alpha:.7},500);f=new createjs.Container;s_oStage.addChild(f);var l=s_oSpriteLibrary.getSprite("msg_box");k=createBitmap(l);f.addChild(k);b=k.on("click",this._onLogoButRelease);a=CANVAS_WIDTH/2;e=-l.height/2;f.x=a;f.y=e;f.regX=l.width/2;f.regY=l.height/2;
createjs.Tween.get(f).to({y:CANVAS_HEIGHT/2},500,createjs.Ease.cubicOut);var q=l.width-600,m=100,t=l.width/2,v=l.height/2-150;new CTLText(f,t-q/2,v-m/2,q,m,42,"center",TEXT_COLOR_0,PRIMARY_FONT,1.1,2,2,TEXT_DEVELOPED,!0,!0,!1,!1);q=l.width-400;v=l.height/2+150;new CTLText(f,t-q/2,v-m/2,q,m,42,"center",TEXT_COLOR_0,PRIMARY_FONT,1.1,2,2,"WWW.CODETHISLAB.COM",!0,!0,!1,!1);q=s_oSpriteLibrary.getSprite("ctl_logo");h=createBitmap(q);h.regX=q.width/2;h.regY=q.height/2;h.x=l.width/2;h.y=l.height/2;f.addChild(h);
q=s_oSpriteLibrary.getSprite("but_exit");m=50;v=l.height-150-m;new CTLText(f,230,v,200,m,20,"left",TEXT_COLOR_0,PRIMARY_FONT,1.1,0,0,"v.2",!0,!0,!0,!1);g=new CGfxButton(l.width-q.width/2-160,q.height/2+170,q,f);g.addEventListener(ON_MOUSE_UP,this.unload,this)};this.unload=function(){g.disable();createjs.Tween.get(c).to({alpha:0},500);createjs.Tween.get(f).to({y:e},500,createjs.Ease.backIn).call(function(){s_oStage.removeChild(c);s_oStage.removeChild(f);g.unload()});c.off("click",d);k.off("click",
b)};this._onLogoButRelease=function(){window.open("https://www.codethislab.com/index.php?&l=en")};this._init()}
function CAreYouSurePanel(a){var e,b,d,c,f,g,h,k,l,q,m,t=this;this._init=function(){b=[];d=[];l=new createjs.Container;l.visible=!1;v.addChild(l);q=new createjs.Shape;q.graphics.beginFill("black").drawRect(0,0,CANVAS_WIDTH,CANVAS_HEIGHT);q.alpha=.5;c=q.on("click",function(){});l.addChild(q);m=new createjs.Container;l.addChild(m);var u=s_oSpriteLibrary.getSprite("msg_box");f=createBitmap(u);f.regX=.5*u.width;f.regY=.5*u.height;m.addChild(f);m.x=CANVAS_WIDTH/2;m.y=e=-u.height/2;g=new CTLText(m,-250,
-250,500,280,40,"center","#fff",PRIMARY_FONT,1.1,2,2," ",!0,!0,!0,!1);h=new CGfxButton(190,180,s_oSpriteLibrary.getSprite("but_yes"),m);h.addEventListener(ON_MOUSE_UP,this._onButYes,this);k=new CGfxButton(-170,180,s_oSpriteLibrary.getSprite("but_no"),m);k.addEventListener(ON_MOUSE_UP,this._onButNo,this)};this.addEventListener=function(u,w,y){b[u]=w;d[u]=y};this.show=function(u,w){g.refreshText(u);g.setFontSize(w);m.y=e;l.visible=!0;createjs.Tween.get(m).to({y:CANVAS_HEIGHT/2},500,createjs.Ease.backOut)};
this.hide=function(){createjs.Tween.removeTweens(m);s_oMain.startUpdateNoBlock();l.visible=!1};this.unload=function(){k.unload();h.unload();q.off("click",c)};this._onButYes=function(){t.hide();b[ON_BUT_YES_DOWN]&&b[ON_BUT_YES_DOWN].call(d[ON_BUT_YES_DOWN])};this._onButNo=function(){t.hide();b[ON_BUT_NO_DOWN]&&b[ON_BUT_NO_DOWN].call(d[ON_BUT_NO_DOWN])};var v=a;this._init()}
function CHands(a,e,b){var d=[],c=[],f,g,h,k,l,q=this;this._init=function(m,t){l=new createjs.Container;l.x=m;l.y=t;b.addChild(l);for(var v=[],u=[],w=0;231>w;w++)v.push(s_oSpriteLibrary.getSprite("left_arm_"+w)),u.push(s_oSpriteLibrary.getSprite("right_arm_"+w));var y=[];w=[];for(var B=160;141<=B;B--)y.push(B),w.push(B);v={images:v,framerate:FPS,frames:{width:540,height:749},animations:{idle:[0,140],gotoaction:[141,160],action:[161,230],gotoidle:{frames:y}}};v=new createjs.SpriteSheet(v);h=createSprite(v,
"idle",0,0,540,749);h.stop();h.x=881;l.addChild(h);v={images:u,framerate:FPS,frames:{width:540,height:749},animations:{idle:[0,140],gotoaction:[141,160],action:[161,230],gotoidle:{frames:w}}};u=new createjs.SpriteSheet(v);k=createSprite(u,"idle",0,0,540,749);k.stop();g=k.on("animationend",this._onAnimEnd,this);l.addChild(k)};this.unload=function(){k.off("animationend",g);b.removeChild(l)};this.addEventListener=function(m,t,v){d[m]=t;c[m]=v};this.getWidth=function(){return h.x+s_oSpriteLibrary.getSprite("left_arm_0").width};
this.playAnim=function(m){h.gotoAndPlay(m);k.gotoAndPlay(m);d[ON_ANIMATION_START]&&d[ON_ANIMATION_START].call(c[ON_ANIMATION_START],m)};this.setNextAnim=function(m){f=m};this._onAnimEnd=function(m){"idle"===m.name||"action"===m.name?null!==f&&(q.playAnim(f),f=null):"gotoaction"===m.name?q.playAnim("action"):"gotoidle"===m.name&&q.playAnim("idle")};this.stopUpdate=function(){h.stop();k.stop()};this.startUpdate=function(){h.play();k.play()};this._init(a,e)}
function CSparkle(a,e){var b=[],d=[],c,f,g;this._init=function(h){c=h;h=[];for(var k=0;39>k;k++)h.push(s_oSpriteLibrary.getSprite("sparkle_finger_"+k));h=new createjs.SpriteSheet({images:h,frames:{width:100,height:100,regX:50,regY:50},animations:{start:0,anim:[Math.floor(15*Math.random()),38]}});g=createSprite(h,"anim",50,50,100,100);g.stop();g.visible=!1;f=g.on("animationend",this._onAnimEnd,this);e.addChild(g)};this.addEventListener=function(h,k,l){b[h]=k;d[h]=l};this.play=function(h,k,l){g.x=h;
g.y=k;g.scale=l;g.alpha=0;g.visible=!0;g.rotation=Math.floor(180*Math.random());g.gotoAndPlay("anim");createjs.Tween.get(g).to({alpha:1},400)};this.unload=function(){e.removeChild(g);createjs.Tween.removeTweens(g);g.off("animationend",f)};this._onAnimEnd=function(h){"anim"===h.name&&createjs.Tween.get(g).to({alpha:0,visible:!1},500,createjs.Ease.cubicOut).call(function(){g.stop();b[ON_ANIMATION_END]&&b[ON_ANIMATION_END].call(d[ON_ANIMATION_END],c)})};this._init(a)}
function CGUIExpandible(a,e,b,d){var c,f,g,h,k,l,q,m,t;this._init=function(u,w,y,B){g=!0;k=[];q=new createjs.Container;q.x=u;q.y=w;B.addChild(q);m=new createjs.Container;q.addChild(m);t=new createjs.Container;q.addChild(t);h=!1;l=new CGfxButton(0,0,y,t);l.addEventListener(ON_MOUSE_UP,this._onMenu,this);f=c=125};this.unload=function(){l.unload();d.removeChild(q)};this.refreshPos=function(){q.x=a-s_iOffsetX;q.y=e+s_iOffsetY};this.reset=function(){h&&this._onMenu()};this.addButton=function(u){u=u.getButtonImage();
u.x=0;u.y=0;u.visible=0;m.addChildAt(u,0);k.push(u)};this._onMenu=function(){g&&((h=!h)?v._expand():v._collapse())};this._expand=function(){for(var u=0;u<k.length;u++)k[u].visible=!0,createjs.Tween.get(k[u],{override:!0}).wait(300*u/2).to({y:c+u*f},300,createjs.Ease.cubicOut)};this._collapse=function(){for(var u=0;u<k.length;u++){var w=k[k.length-1-u];createjs.Tween.get(w,{override:!0}).wait(300*u/2).to({y:0},300,createjs.Ease.cubicOut).call(function(y){y.visible=!1},[w])}};this.enable=function(){g=
!0;l.setActive(!0)};this.disable=function(){g=!1;l.setActive(!1)};this.isExpanded=function(){return h};var v=this;this._init(a,e,b,d)}
function CVector2(a,e){var b,d;this._init=function(c,f){b=c;d=f};this.add=function(c,f){b+=c;d+=f};this.addV=function(c){b+=c.getX();d+=c.getY()};this.scalarDivision=function(c){b/=c;d/=c};this.subV=function(c){b-=c.getX();d-=c.getY()};this.scalarProduct=function(c){b*=c;d*=c};this.invert=function(){b*=-1;d*=-1};this.dotProduct=function(c){return b*c.getX()+d*c.getY()};this.set=function(c,f){b=c;d=f};this.setV=function(c){b=c.getX();d=c.getY()};this.length=function(){return Math.sqrt(b*b+d*d)};this.length2=
function(){return b*b+d*d};this.normalize=function(){var c=this.length();0<c&&(b/=c,d/=c)};this.getNormalize=function(c){this.length();c.set(b,d);c.normalize()};this.rot90CCW=function(){var c=b;b=-d;d=c};this.rot90CW=function(){var c=b;b=d;d=-c};this.getRotCCW=function(c){c.set(b,d);c.rot90CCW()};this.getRotCW=function(c){c.set(b,d);c.rot90CW()};this.ceil=function(){b=Math.ceil(b);d=Math.ceil(d)};this.round=function(){b=Math.round(b);d=Math.round(d)};this.toString=function(){return"Vector2: "+b+", "+
d};this.print=function(){trace("Vector2: "+b+", "+d)};this.getX=function(){return b};this.getY=function(){return d};this._init(a,e)}
function CTextButton(a,e,b,d,c,f,g,h){var k,l,q,m,t,v,u,w,y,B;this._init=function(p,D,G,A,C,S,z){k=!1;l=1;q=[];m=[];B=createBitmap(G);w=new createjs.Container;w.x=p;w.y=D;w.regX=G.width/2;w.regY=G.height/2;s_bMobile||(w.cursor="pointer");w.addChild(B,y);h.addChild(w);y=new CTLText(w,30,30,G.width-60,G.height-60,z,"center",S,C,1.1,2,2,A,!0,!0,!1,!1);this._initListener()};this.unload=function(){w.off("mousedown",t);w.off("pressup",v);h.removeChild(w)};this.setVisible=function(p){w.visible=p};this.setAlign=
function(p){y.textAlign=p};this.setTextX=function(p){y.x=p};this.setScale=function(p){l=w.scaleX=w.scaleY=p};this.enable=function(){k=!1};this.disable=function(){k=!0};this._initListener=function(){t=w.on("mousedown",this.buttonDown);v=w.on("pressup",this.buttonRelease)};this.addEventListener=function(p,D,G){q[p]=D;m[p]=G};this.addEventListenerWithParams=function(p,D,G,A){q[p]=D;m[p]=G;u=A};this.buttonRelease=function(){k||(playSound("click",1,!1),w.scaleX=l,w.scaleY=l,q[ON_MOUSE_UP]&&q[ON_MOUSE_UP].call(m[ON_MOUSE_UP],
u))};this.buttonDown=function(){k||(w.scaleX=.9*l,w.scaleY=.9*l,q[ON_MOUSE_DOWN]&&q[ON_MOUSE_DOWN].call(m[ON_MOUSE_DOWN],u))};this.setPosition=function(p,D){w.x=p;w.y=D};this.tweenPosition=function(p,D,G,A,C,S,z){createjs.Tween.get(w).wait(A).to({x:p,y:D},G,C).call(function(){void 0!==S&&S.call(z)})};this.playTween=function(p,D,G){createjs.Tween.get(w).to(p,D,G)};this.changeText=function(p){y.refreshText(p)};this.setAlpha=function(p){w.alpha=p};this.setX=function(p){w.x=p};this.setY=function(p){w.y=
p};this.getButtonImage=function(){return w};this.getX=function(){return w.x};this.getY=function(){return w.y};this.getSprite=function(){return w};this.getScale=function(){return w.scaleX};this._init(a,e,b,d,c,f,g)}
function CMsgBox(a){var e=[],b=[],d,c,f,g,h,k,l;this._init=function(){l=new createjs.Container;a.addChild(l);h=new createjs.Shape;h.graphics.beginFill("black").drawRect(0,0,CANVAS_WIDTH,CANVAS_HEIGHT);h.alpha=0;h.visible=!1;f=h.on("click",function(){});l.addChild(h);var q=s_oSpriteLibrary.getSprite("msg_box");k=new createjs.Container;k.x=CANVAS_WIDTH/2;k.y=d=-q.height/2;k.regX=q.width/2;k.regY=q.height/2;k.visible=!1;l.addChild(k);var m=createBitmap(q);k.addChild(m);m=q.width-400;c=new CTLText(k,
q.width/2-m/2,200,m,300,70,"center",TEXT_COLOR_0,PRIMARY_FONT,1.1,2,2," ",!0,!0,!0,!1);m=s_oSpriteLibrary.getSprite("but_yes");g=new CGfxButton(q.width/2,q.height-m.height/2-200,m,k);g.addEventListener(ON_MOUSE_UP,this._onButYes,this)};this.addEventListener=function(q,m,t){e[q]=m;b[q]=t};this.show=function(q){c.refreshText(q);k.y=d;k.visible=!0;h.alpha=0;h.visible=!0;g.setActive(!1);createjs.Tween.get(h).to({alpha:.5},500,createjs.Ease.cubicOut);createjs.Tween.get(k).to({y:CANVAS_HEIGHT/2},500,createjs.Ease.cubicOut).call(function(){g.setActive(!0)})};
this.hide=function(){g.setActive(!1);createjs.Tween.get(h).to({alpha:0,visible:!1},500,createjs.Ease.cubicOut);createjs.Tween.get(k).to({y:d,visible:!1},500,createjs.Ease.backIn)};this.unload=function(){g.unload();h.off("click",f);createjs.Tween.removeTweens(k);createjs.Tween.removeTweens(h);a.removeChild(l)};this._onButYes=function(){e[ON_BUT_YES_DOWN]&&e[ON_BUT_YES_DOWN].call(b[ON_BUT_YES_DOWN])};this._init()};